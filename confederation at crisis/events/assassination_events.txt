namespace = assassination

# Assassination Plot Events, work in progress from vanilla

# Bounty hunters!
character_event = {
	# A bounty hunter has successfully killed you
	id = assassination.0
	desc = "EVTDESCASSASSINATION0"
	picture = GFX_evt_assassins
	
	prisoner = no
	
	trigger = {
		check_variable = { which = "bounty" value = 1 } # Must have a bounty
	}
	
	mean_time_to_happen = {
		months = 240
		
		# Target's rank (and therefore security arrangements)
		modifier = {
			factor = 4
			is_landed = yes
		}
		modifier = {
			factor = 4
			higher_tier_than = baron
		}
		modifier = {
			factor = 4
			higher_tier_than = duke
		}
		modifier = {
			factor = 4
			higher_tier_than = king
		}
		modifier = {
			factor = 3
			any_heir_title = { always = yes }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 3
			any_heir_title = { higher_tier_than = king }
		}
		modifier = {
			factor = 2
			any_pretender_title = { always = yes }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 2
			any_pretender_title = { higher_tier_than = king }
		}
		
		# Target's intrigue
		modifier = {
			factor = 1.25
			intrigue = 2
		}
		modifier = {
			factor = 1.25
			intrigue = 4
		}
		modifier = {
			factor = 1.25
			intrigue = 6
		}
		modifier = {
			factor = 1.25
			intrigue = 8
		}
		modifier = {
			factor = 1.25
			intrigue = 10
		}
		modifier = {
			factor = 1.25
			intrigue = 12
		}
		modifier = {
			factor = 1.25
			intrigue = 14
		}
		modifier = {
			factor = 1.25
			intrigue = 16
		}
		modifier = {
			factor = 1.25
			intrigue = 18
		}
		modifier = {
			factor = 1.25
			intrigue = 20
		}
		modifier = {
			factor = 1.25
			intrigue = 22
		}
		modifier = {
			factor = 1.25
			intrigue = 24
		}
		modifier = {
			factor = 1.25
			intrigue = 26
		}
		modifier = {
			factor = 1.25
			intrigue = 28
		}
		modifier = {
			factor = 1.25
			intrigue = 30
		}
		
		# Target's spymaster's intrigue
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 2
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 4
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 6
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 8
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 10
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 12
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 14
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 16
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 18
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 20
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 22
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 24
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 26
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 28
			}
		}
		modifier = {
			factor = 1.25
			job_spymaster = {
				NOT = { plot_target_char = { character = ROOT } }
				NOT = { any_backed_character = { plot_target_char = { character = ROOT } } }
				intrigue = 30
			}
		}
		
		# Size of bounty
		# Success chance scales linearly to bounty size for now
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 32 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 64 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 128 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 246 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 512 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 1024 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2048 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4096 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8192 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16384 }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION0"
		death = { death_reason = death_murder } # Killer unknown
		hidden_tooltip = {
			# Inform any relevant people that you've been killed by bounty hunters
			any_friend = { character_event = { id = assassination.1 } }
			any_lover = { character_event = { id = assassination.1 } }
			spouse = { character_event = { id = assassination.1 } }
			father = { character_event = { id = assassination.1 } }
			mother = { character_event = { id = assassination.1 } }
			any_sibling = { character_event = { id = assassination.1 } }
			any_child = { character_event = { id = assassination.1 } }
			liege = { character_event = { id = assassination.1 } }
			any_vassal = { character_event = { id = assassination.1 } }
			any_realm_character = {
				limit = { plot_target_char = { character = ROOT } }
				character_event = { id = assassination.2 }
			}
			any_realm_character = {
				limit = { any_backed_character = { plot_target_char = { character = ROOT } } }
				character_event = { id = assassination.2 }
			}
			any_rival = {
				limit = { plot_target_char = { character = ROOT } }
				character_event = { id = assassination.2 }
			}
			any_rival = {
				limit = { any_backed_character = { plot_target_char = { character = ROOT } } }
				character_event = { id = assassination.2 }
			}
		}
	}
}

character_event = {
	id = assassination.1
	desc = "EVTDESCASSASSINATION1"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.2
	desc = "EVTDESCASSASSINATION2"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	# A bounty hunter has failed to kill you
	id = assassination.5
	desc = "EVTDESCASSASSINATION5"
	picture = GFX_evt_assassins
	
	prisoner = no
	
	trigger = {
		check_variable = { which = "bounty" value = 1 } # Must have a bounty
		NOT = { has_character_modifier = failed_assassination_attempt }
	}
	
	mean_time_to_happen = {
		months = 240
		
		# Target's rank (and therefore security arrangements)
		modifier = {
			factor = 2
			is_landed = yes
		}
		modifier = {
			factor = 2
			higher_tier_than = baron
		}
		modifier = {
			factor = 2
			higher_tier_than = duke
		}
		modifier = {
			factor = 2
			higher_tier_than = king
		}
		modifier = {
			factor = 2
			any_heir_title = { always = yes }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = baron }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = duke }
		}
		modifier = {
			factor = 2
			any_heir_title = { higher_tier_than = king }
		}
		
		# Size of bounty
		# Success chance scales linearly to bounty size for now
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 32 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 64 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 128 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 246 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 512 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 1024 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 2048 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 4096 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 8192 }
		}
		modifier = {
			factor = 0.5
			check_variable = { which = "bounty" value = 16384 }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION0"
		add_character_modifier = { name = "failed_assassination_attempt" months = 1825 }
	}
}

# Place a bounty on your plot target
character_event = {
	id = assassination.10
	desc = "EVTDESCASSASSINATION10"
	picture = GFX_evt_assassins
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION10" # 10 credits
		wealth = -10
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 10 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				wealth = 100
				plot_target_char = { is_landed = yes }
			}
		}
	}
	
	option = {
		trigger = { wealth = 100 }
		name = "EVTOPTBASSASSINATION10" # 100 credits
		wealth = -100
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 100 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				plot_target_char = { is_landed = no }
			}
			modifier = {
				factor = 0
				wealth = 500
				plot_target_char = { NOT = { higher_tier_than = duke } }
			}
		}
	}
	
	option = {
		trigger = { wealth = 500 }
		name = "EVTOPTCASSASSINATION10" # 500 credits
		wealth = -500
		plot_target_char = {
			if = {
				limit = { NOT = { check_variable = { which = "bounty" value = 1 } } }
				set_variable = { which = "bounty" value = 0 }
			}
			change_variable = { which = "bounty" value = 500 }
		}
		clr_character_flag = flag_placing_bounty
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { plot_target_char = { higher_tier_than = duke } }
			}
			modifier = {
				factor = 0
				wealth = 500
			}
		}
	}
	
	option = {
		name = "EVTOPTDASSASSINATION10"
		clr_character_flag = flag_placing_bounty
	}
}

character_event = {
	id = assassination.20
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		plot_target_char = {
			father = { character_event = { id = assassination.21 } }
			mother = { character_event = { id = assassination.21 } }
			any_sibling = { character_event = { id = assassination.21 } }
			any_child = { character_event = { id = assassination.21 } }
			spouse = { character_event = { id = assassination.21 } }
			any_lover = { character_event = { id = assassination.21 } }
			any_friend = { character_event = { id = assassination.21 } }
			liege = { character_event = { id = assassination.21 } }
			any_vassal = { character_event = { id = assassination.21 } }
		}
	}
}
# You have suspicions about FROM
character_event = {
	id = assassination.21
	desc = "EVTDESCASSASSINATION22"
	picture = GFX_evt_spymaster
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			plot_is_known_by = ROOT
			NOT = { character = ROOT }
			NOT = { any_plot_backer = { character = ROOT } }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION22"
		opinion = { who = FROM modifier = suspect_of_murder months = 120 }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				NOT = { trait = imbecile }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				NOT = { trait = imbecile }
				NOT = { trait = slow }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				OR = {
					trait = quick
					trait = genius
				}
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { killer = { character = FROM } } }
				trait = genius
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				NOT = { trait = imbecile }
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				NOT = { trait = imbecile }
				NOT = { trait = slow }
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				OR = {
					trait = quick
					trait = genius
				}
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { NOT = { killer = { character = FROM } } } }
				trait = genius
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION22"
		ai_chance = { factor = 50 }
	}
}

# 100 - Hired Assassin Succeeds
character_event = {
	id = assassination.100
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		log = "[Root.PlotTarget.GetBestName] was assassinated by [Root.GetBestName]."
		if = {
			limit = {
				NOT = { has_plot = plot_kill_character }
				NOT = { has_plot = plot_kill_spouse }
			}
			clr_character_flag = murder_in_motion
			break = yes
		}
		# Small child - kidnap, then murder
		if = {
			limit = { plot_target_char = { NOT = { age = 6 } } }
			plot_target_char = { character_event = { id = assassination.110 } }
		}
		# Schoolchild - shoot on way to school
		if = {
			limit = {
				plot_target_char = {
					age = 6
					NOT = { age = 18 }
				}
			}
			plot_target_char = { character_event = { id = assassination.120 } }
		}
		# Ordinary adult
		if = {
			limit = {
				plot_target_char = {
					age = 18
					is_landed = no
					is_councillor = no
				}
			}
			plot_target_char = {
				random_list = {
					50 = { character_event = { id = assassination.130 } } # Midnight breakin
					50 = { character_event = { id = assassination.140 } } # Shot
				}
			}
		}
		# Politican
		if = {
			limit = {
				plot_target_char = {
					age = 18
					OR = {
						is_landed = yes
						is_councillor = yes
					}
				}
			}
			plot_target_char = {
				random_list = {
					25 = { character_event = { id = assassination.130 } } # Midnight breakin
					25 = { character_event = { id = assassination.140 } } # Shot
					25 = { character_event = { id = assassination.150 } } # Sniped at speech
					25 = { character_event = { id = assassination.160 } } # Office bombed
				}
			}
		}
	}
}
# Small child abducted, then killed
character_event = {
	id = assassination.110
	desc = "EVTDESCASSASSINATION110"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION110"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.111 } }
			any_realm_character = { character_event = { id = assassination.112 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION110"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.113 } }
			any_realm_character = { character_event = { id = assassination.114 } }
		}
	}
}
character_event = {
	id = assassination.111
	desc = "EVTDESCASSASSINATION111"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION111"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.112
	desc = "EVTDESCASSASSINATION112"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.113
	desc = "EVTDESCASSASSINATION113"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION113"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.114
	desc = "EVTDESCASSASSINATION114"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Schoolchild shot
character_event = {
	id = assassination.120
	desc = "EVTDESCASSASSINATION120"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION120"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.121 } }
			any_realm_character = { character_event = { id = assassination.122 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION120"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.123 } }
			any_realm_character = { character_event = { id = assassination.124 } }
		}
	}
}
character_event = {
	id = assassination.121
	desc = "EVTDESCASSASSINATION121"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION121"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.122
	desc = "EVTDESCASSASSINATION122"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.123
	desc = "EVTDESCASSASSINATION123"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION123"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.124
	desc = "EVTDESCASSASSINATION124"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Midnight break-in and stabbing
character_event = {
	id = assassination.130
	desc = "EVTDESCASSASSINATION130"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION130"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.131 } }
			any_realm_character = { character_event = { id = assassination.132 } }
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION130"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.133 } }
			any_realm_character = { character_event = { id = assassination.134 } }
			clear_event_target = target_victim
		}
	}
}
character_event = {
	id = assassination.131
	desc = "EVTDESCASSASSINATION131"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION131"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.132
	desc = "EVTDESCASSASSINATION132"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.133
	desc = "EVTDESCASSASSINATION133"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION133"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.134
	desc = "EVTDESCASSASSINATION134"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot in traffic
character_event = {
	id = assassination.140
	desc = "EVTDESCASSASSINATION140"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION140"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.141 } }
			any_realm_character = { character_event = { id = assassination.142 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION140"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.143 } }
			any_realm_character = { character_event = { id = assassination.144 } }
		}
	}
}
character_event = {
	id = assassination.141
	desc = "EVTDESCASSASSINATION141"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION141"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.142
	desc = "EVTDESCASSASSINATION142"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.143
	desc = "EVTDESCASSASSINATION143"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION143"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.144
	desc = "EVTDESCASSASSINATION144"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot at speech
character_event = {
	id = assassination.150
	desc = "EVTDESCASSASSINATION150"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION150"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.151 } }
			any_realm_character = { character_event = { id = assassination.152 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION150"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.153 } }
			any_realm_character = { character_event = { id = assassination.154 } }
		}
	}
}
character_event = {
	id = assassination.151
	desc = "EVTDESCASSASSINATION151"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION151"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.152
	desc = "EVTDESCASSASSINATION152"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.153
	desc = "EVTDESCASSASSINATION153"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION153"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.154
	desc = "EVTDESCASSASSINATION154"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Office Bomb
character_event = {
	id = assassination.160
	desc = "EVTDESCASSASSINATION160"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Involvement unknown
	option = {
		trigger = {
			NOT = {
				AND = {
					liege = {
						FROM = {
							plot_is_known_by = PREV
							NOT = { character = PREV }
							NOT = { any_plot_backer = { character = PREVPREV } }
						}
					}
					random = 50
				}
			}
		}
		name = "EVTOPTAASSASSINATION160"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.161 } }
			any_realm_character = { character_event = { id = assassination.162 } }
			clear_event_target = target_victim
		}
	}
	
	# Involvement discovered
	option = {
		trigger = {
			liege = {
				FROM = {
					plot_is_known_by = PREV
					NOT = { character = PREV }
					NOT = { any_plot_backer = { character = PREVPREV } }
				}
			}
			random = 50
		}
		name = "EVTOPTBASSASSINATION160"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.163 } }
			any_realm_character = { character_event = { id = assassination.164 } }
		}
	}
}
character_event = {
	id = assassination.161
	desc = "EVTDESCASSASSINATION161"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION161"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.162
	desc = "EVTDESCASSASSINATION162"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.163
	desc = "EVTDESCASSASSINATION163"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION163"
		hidden_tooltip = { character_event = { id = 10 } }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.164
	desc = "EVTDESCASSASSINATION164"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# 200 - Hired Assassin Fails
character_event = {
	id = assassination.200
	hide_window = yes
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_plot = plot_kill_character }
				NOT = { has_plot = plot_kill_spouse }
			}
			clr_character_flag = murder_in_motion
			break = yes
		}
		# Small child - kidnap, then murder
		if = {
			limit = { plot_target_char = { NOT = { age = 6 } } }
			plot_target_char = { character_event = { id = assassination.210 } }
		}
		# Schoolchild - shoot on way to school
		if = {
			limit = {
				plot_target_char = {
					age = 6
					NOT = { age = 18 }
				}
			}
			plot_target_char = { character_event = { id = assassination.220 } }
		}
		# Ordinary adult
		if = {
			limit = {
				plot_target_char = {
					age = 18
					is_landed = no
					is_councillor = no
				}
			}
			plot_target_char = {
				random_list = {
					50 = { character_event = { id = assassination.230 } } # Midnight breakin
					50 = { character_event = { id = assassination.240 } } # Shot
				}
			}
		}
		# Politican
		if = {
			limit = {
				plot_target_char = {
					age = 18
					OR = {
						is_landed = yes
						is_councillor = yes
					}
				}
			}
			plot_target_char = {
				random_list = {
					25 = { character_event = { id = assassination.230 } } # Midnight breakin
					25 = { character_event = { id = assassination.240 } } # Shot
					25 = { character_event = { id = assassination.250 } } # Sniped at speech
					25 = { character_event = { id = assassination.260 } } # Office bombed
				}
			}
		}
	}
}
# Small child abducted, then killed
character_event = {
	id = assassination.210
	desc = "EVTDESCASSASSINATION210"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION210"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.211 } }
			any_realm_character = { character_event = { id = assassination.212 } }
			clear_event_target = target_victim
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION210"
		FROM = { character_event = { id = assassination.213 tooltip = "EVTTOOLTIPASSASSINATION213" } }
	}
}
character_event = {
	id = assassination.211
	desc = "EVTDESCASSASSINATION211"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.212
	desc = "EVTDESCASSASSINATION212"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.213
	desc = "EVTDESCASSASSINATION213"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION213"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.214 } } }
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.214
	desc = "EVTDESCASSASSINATION214"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Schoolchild shot on way to school
character_event = {
	id = assassination.220
	desc = "EVTDESCASSASSINATION220"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION220"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.221 } }
			any_realm_character = { character_event = { id = assassination.222 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION220"
		FROM = { character_event = { id = assassination.223 tooltip = "EVTTOOLTIPASSASSINATION223" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.221
	desc = "EVTDESCASSASSINATION221"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.222
	desc = "EVTDESCASSASSINATION222"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.223
	desc = "EVTDESCASSASSINATION223"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.224 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.224
	desc = "EVTDESCASSASSINATION224"
	picture = GFX_evt_child
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Midnight break-in
character_event = {
	id = assassination.230
	desc = "EVTDESCASSASSINATION230"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION230"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.231 } }
			any_realm_character = { character_event = { id = assassination.232 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION230"
		FROM = { character_event = { id = assassination.233 tooltip = "EVTTOOLTIPASSASSINATION233" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.231
	desc = "EVTDESCASSASSINATION231"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.232
	desc = "EVTDESCASSASSINATION232"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.233
	desc = "EVTDESCASSASSINATION233"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.234 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.234
	desc = "EVTDESCASSASSINATION234"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot in traffic
character_event = {
	id = assassination.240
	desc = "EVTDESCASSASSINATION240"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION240"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.241 } }
			any_realm_character = { character_event = { id = assassination.242 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION240"
		FROM = { character_event = { id = assassination.243 tooltip = "EVTTOOLTIPASSASSINATION243" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.241
	desc = "EVTDESCASSASSINATION241"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.242
	desc = "EVTDESCASSASSINATION242"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.243
	desc = "EVTDESCASSASSINATION243"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.244 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.244
	desc = "EVTDESCASSASSINATION244"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Shot at speech
character_event = {
	id = assassination.250
	desc = "EVTDESCASSASSINATION250"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION250"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.251 } }
			any_realm_character = { character_event = { id = assassination.252 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION250"
		FROM = { character_event = { id = assassination.253 tooltip = "EVTTOOLTIPASSASSINATION253" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.251
	desc = "EVTDESCASSASSINATION251"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.252
	desc = "EVTDESCASSASSINATION252"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.253
	desc = "EVTDESCASSASSINATION253"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.254 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.254
	desc = "EVTDESCASSASSINATION254"
	picture = GFX_evt_speech
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Office bomb
character_event = {
	id = assassination.260
	desc = "EVTDESCASSASSINATION260"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	# Not discovered
	option = {
		trigger = { NOT = { random = 25 } }
		name = "EVTOPTAASSASSINATION260"
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.261 } }
			any_realm_character = { character_event = { id = assassination.262 } }
			clear_event_target = target_victim
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
	
	# Discovered
	option = {
		trigger = { random = 25 }
		name = "EVTOPTBASSASSINATION260"
		FROM = { character_event = { id = assassination.263 tooltip = "EVTTOOLTIPASSASSINATION263" } }
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
	}
}
character_event = {
	id = assassination.261
	desc = "EVTDESCASSASSINATION261"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_wounded } }
		name = "EVTOPTBASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = { FROM = { has_character_flag = flag_plot_maimed } }
		name = "EVTOPTCASSASSINATION211"
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.262
	desc = "EVTDESCASSASSINATION262"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.263
	desc = "EVTDESCASSASSINATION263"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		trigger = {
			FROM = {	
				NOT = { has_character_flag = flag_plot_wounded }
				NOT = { has_character_flag = flag_plot_maimed }
			}
		}
		name = "EVTOPTAASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_wounded }
		}
		name = "EVTOPTBASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_wounded
		}
		clr_character_flag = murder_in_motion
	}
	
	option = {
		trigger = {
			FROM = { has_character_flag = flag_plot_maimed }
		}
		name = "EVTOPTCASSASSINATION211"
		reveal_plot = yes
		hidden_tooltip = {
			character_event = { id = 11 }
			FROM = { any_realm_character = { character_event = { id = assassination.264 } } }
		}
		FROM = {
			clr_character_flag = flag_plot_maimed
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.264
	desc = "EVTDESCASSASSINATION264"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROMFROM
			is_liege_of = FROMFROM
			is_friend = FROMFROM
			is_rival = FROMFROM
			is_lover = FROMFROM
			is_guardian = FROMFROM
			FROMFROM = { is_guardian = ROOT }
			FROMFROM = { is_liege_of = ROOT }
			spouse = { character = FROMFROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Assassinations of Opportunity!
# Plotter is in battle alongside plot target
character_event = {
	id = assassination.300
	desc = "EVTDESCASSASSINATION300"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes # Battle trigger
	
	min_age = 18
	capable_only = yes
	prisoner = no
	
	trigger = {
		in_battle = yes
		OR = {
			has_plot = plot_kill_character
			has_plot = plot_kill_spouse
		}
		plot_target_char = {
			in_battle = yes
			at_location = ROOT
			NOT = { war_with = ROOT }
			NOT = { martial = ROOT }
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION300"
		set_character_flag = murder_in_motion
		plot_target_char = {
			if = {
				limit = { ROOT = { NOT = { martial = 8 } } }
				random_list = {
					20 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } } # Hit
					80 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } } # Miss
				}
			}
			if = {
				limit = {
					ROOT = {
						martial = 8
						NOT = { martial = 16 }
					}
				}
				random_list = {
					40 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					60 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
			if = {
				limit = {
					ROOT = {
						martial = 16
						NOT = { martial = 24 }
					}
				}
				random_list = {
					60 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					40 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
			if = {
				limit = { ROOT = { martial = 24 } }
				random_list = {
					20 = { character_event = { id = assassination.301 tooltip = "EVTTOOLTIPASSASSINATION301" } }
					80 = { character_event = { id = assassination.302 tooltip = "EVTTOOLTIPASSASSINATION302" } }
				}
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				martial = 8
			}
			modifier = {
				factor = 2
				martial = 16
			}
			modifier = {
				factor = 2
				martial = 24
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION300"
		ai_chance = { factor = 50 }
	}
}

character_event = {
	id = assassination.301
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		save_event_target_as = target_victim
		log = "[From.GetBestName] Garma'd [Root.GetBestName]"
	}
	
	# Origin of enemy fire unknown
	option = {
		trigger = { FROM = { NOT = { plot_is_known_by = ROOT } } }
		name = "EVTOPTAASSASSINATION301"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.303 } }
			any_realm_character = { character_event = { id = assassination.304 } }
			clear_event_target = target_victim
		}
	}
	
	# Origin of enemy fire known
	option = {
		trigger = { FROM = { plot_is_known_by = ROOT } }
		name = "EVTOPTBASSASSINATION301"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.305 } }
			any_realm_character = { character_event = { id = assassination.306 } }
		}
	}
}
character_event = {
	id = assassination.302
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTBASSASSINATION301" # Traitorous snake!
		FROM = { reveal_plot = yes }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.307 } }
			any_realm_character = { character_event = { id = assassination.308 } }
		}
	}
}

character_event = {
	id = assassination.303
	desc = "EVTDESCASSASSINATION303"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION303" # Blame the misfortune of your birth!
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.304
	desc = "EVTDESCASSASSINATION304"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.305
	desc = "EVTDESCASSASSINATION305"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION305" # Blame the misfortune of your birth!
		clr_character_flag = murder_in_motion
		reveal_plot = yes
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.306
	desc = "EVTDESCASSASSINATION306"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

character_event = {
	id = assassination.307
	desc = "EVTDESCASSASSINATION307"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION307"
		reveal_plot = yes
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.308
	desc = "EVTDESCASSASSINATION308"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# A plot backer is in position for friendly fire during a battletarget
character_event = {
	id = assassination.350
	desc = "EVTDESCASSASSINATION350"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes # Battle trigger
	
	min_age = 18
	capable_only = yes
	prisoner = no
	
	trigger = {
		in_battle = yes
		any_backed_character = {
			OR = {
				has_plot = plot_kill_character
				has_plot = plot_kill_spouse
			}
			plot_target_char = {
				in_battle = yes
				at_location = ROOT
				NOT = { war_with = ROOT }
				NOT = { martial = ROOT }
			}
		}
	}
	
	option = {
		name = "EVTOPTAASSASSINATION350"
		random_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = {
					in_battle = yes
					at_location = ROOT
					NOT = { war_with = ROOT }
					NOT = { martial = ROOT }
				}
			}
			plot_target_char = {
				if = {
					limit = { ROOT = { NOT = { martial = 8 } } }
					random_list = {
						20 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } } # Hit
						80 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } } # Miss
					}
				}
				if = {
					limit = {
						ROOT = {
							martial = 8
							NOT = { martial = 16 }
						}
					}
					random_list = {
						40 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						60 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
				if = {
					limit = {
						ROOT = {
							martial = 16
							NOT = { martial = 24 }
						}
					}
					random_list = {
						60 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						40 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
				if = {
					limit = { ROOT = { martial = 24 } }
					random_list = {
						20 = { character_event = { id = assassination.351 tooltip = "EVTTOOLTIPASSASSINATION351" } }
						80 = { character_event = { id = assassination.352 tooltip = "EVTTOOLTIPASSASSINATION352" } }
					}
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				martial = 8
			}
			modifier = {
				factor = 2
				martial = 16
			}
			modifier = {
				factor = 2
				martial = 24
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION300"
		ai_chance = { factor = 50 }
	}
}
# Attack succeeds
character_event = {
	id = assassination.351
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	
	immediate = {
		save_event_target_as = target_victim
		log = "[From.GetBestName] Garma'd [Root.GetBestName]"
	}
	
	option = {
		trigger = {
			FROM = {
				any_backed_character = {
					OR = {
						has_plot = plot_kill_character
						has_plot = plot_kill_spouse
					}
					plot_target_char = { character = ROOT }
					plot_is_known_by = ROOT
				}
			}
		}
		name = "EVTOPTAASSASSINATION301"
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.353 } }
			any_realm_character = { character_event = { id = assassination.354 } }
		}
	}
	
	option = {
		trigger = {
			NOT = {
				FROM = {
					any_backed_character = {
						OR = {
							has_plot = plot_kill_character
							has_plot = plot_kill_spouse
						}
						plot_target_char = { character = ROOT }
						plot_is_known_by = ROOT
					}
				}
			}
		}
		name = "EVTOPTBASSASSINATION301"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.355 } }
			any_realm_character = { character_event = { id = assassination.356 } }
			clear_event_target = target_victim
		}
	}
}

# Attack fails
character_event = {
	id = assassination.352
	desc = "EVTDESCASSASSINATION301"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	immediate = { save_event_target_as = target_victim }
	
	option = {
		name = "EVTOPTBASSASSINATION301"
		hidden_tooltip = {
			FROM = {
				character_event = { id = assassination.357 }
				any_realm_character = { character_event = { id = assassination.358 } }
			}
		}
	}
}

# Successful Assassination, Origins Known
character_event = {
	id = assassination.353
	desc = "EVTDESCASSASSINATION303"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION303"
		any_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = { character = FROM }
			}
			opinion = { who = ROOT modifier = opinion_accomplice }
			hidden_tooltip = { letter_event = { id = assassination.359 } }
		}
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.354
	desc = "EVTDESCASSASSINATION304"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Successful Assassination, Origins Unknown
character_event = {
	id = assassination.355
	desc = "EVTDESCASSASSINATION305"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION305"
		any_backed_character = {
			limit = {
				OR = {
					has_plot = plot_kill_character
					has_plot = plot_kill_spouse
				}
				plot_target_char = { character = FROM }
			}
			opinion = { who = ROOT modifier = opinion_accomplice }
			hidden_tooltip = { letter_event = { id = assassination.359 } }
		}
	}
}
character_event = {
	id = assassination.356
	desc = "EVTDESCASSASSINATION306"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Failed Assassination
character_event = {
	id = assassination.357
	desc = "EVTDESCASSASSINATION307"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		hidden_tooltip = { character_event = { id = 11 } }
		name = "EVTOPTAASSASSINATION307"
	}
}
character_event = {
	id = assassination.358
	desc = "EVTDESCASSASSINATION308"
	picture = GFX_evt_battle
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			at_location = FROM
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Inform plotter of successful mid-battle assassination
letter_event = {
	id = assassination.359
	desc = "EVTDESCASSASSINATION359"
	border = GFX_evt_letter_frame_intrigue
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}

# Forced suicide via brainjacking
character_event = {
	id = assassination.400
	desc = "EVTDESCASSASSINATION400"
	picture = GFX_evt_cabal
	border = GFX_evt_normal_frame_intrigue
	
	min_age = 18
	prisoner = no
	only_capable = yes
	
	trigger = {
		NOT = { has_character_flag = murder_in_motion }
		OR = {
			has_plot = plot_kill_character
			has_plot = plot_kill_spouse
		}
		plot_target_char = {
			trait = dni
			age = 12
			NOT = { trait = incapable }
			prisoner = no
			# Must be mentally vulnerable in some way
			OR = {
				trait = neurotic
				trait = stressed
				trait = depressed
			}
		}
		OR = {
			trait = dni
			any_plot_backer = { trait = dni }
		}
	}
	
	mean_time_to_happen = {
		months = 30
	}
	
	immediate = {
		any_plot_backer = { add_trait = target } # So that one can be selected at random later
	}
	
	option = {
		trigger = { trait = dni }
		name = "EVTOPTAASSASSINATION400" # Handle it yourself
		set_character_flag = murder_in_motion
		hidden_tooltip = { any_plot_backer = { remove_trait = target } }
		plot_target_char = { character_event = { id = assassination.401 tooltip = "EVTTOOLTIPASSASSINATION401" } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 4
				trait = brave
			}
			modifier = {
				factor = 0.2
				trait = craven
			}
			modifier = {
				factor = 2
				trait = full_cybernetic_conversion
			}
			modifier = {
				factor = 2
				trait = confident
			}
			modifier = {
				factor = 0.5
				trait = neurotic
			}
			modifier = {
				factor = 0.5
				trait = stressed
			}
		}
	}
	option = {
		trigger = { any_plot_backer = { trait = dni } }
		name = "EVTOPTBASASSINATION400"
		set_character_flag = murder_in_motion
		hidden_tooltip = { save_event_target_as = target_mastermind }
		target = {
			limit = {
				trait = dni
				NOT = {
					ROOT = {
						any_plot_backer = {
							trait = dni
							attribute_diff = {
								attribute = intrigue
								character = PREVPREV
								value = 1
							}
						}
					}
				}
			}
			letter_event = { id = assassination.450 tooltip = "EVTTOOLTIPASSASSINATION450" }
		}
		hidden_tooltip = { any_plot_backer = { remove_trait = target } }
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0.5
				NOT = {
					any_plot_backer = {
						trait = dni
						NOT = { trait = neurotic }
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					any_plot_backer = {
						trait = dni
						NOT = { trait = stressed }
					}
				}
			}
			modifier = {
				factor = 0.5
				NOT = {
					any_plot_backer = {
						trait = dni
						NOT = { trait = depressed }
					}
				}
			}
			modifier = {
				factor = 2
				any_plot_backer = {
					trait = dni
					trait = confident
				}
			}
			modifier = {
				factor = 2
				any_plot_backer = {
					trait = dni
					trait = full_cybernetic_conversion
				}
			}
			modifier = {
				factor = 2
				any_plot_backer = {
					trait = dni
					trait = hiver_implant
				}
			}
		}
	}
	option = {
		name = "EVTOPTCASSASSINATION400"
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2
				plot_target_char = { trait = full_cybernetic_conversion }
			}
			modifier = {
				factor = 0.5
				plot_target_char = { trait = depressed }
			}
			modifier = {
				factor = 0.5
				plot_target_char = { trait = stressed }
			}
			modifier = {
				factor = 0.5
				plot_target_char = { trait = neurotic }
			}
			modifier = {
				factor = 2
				plot_target_char = { trait = confident }
			}
		}
	}
}

# Set up for brainjacking assassination
character_event = {
	id = assassination.401
	desc = "EVTDESCASSASSINATION401"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_border_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION401"
		hidden_tooltip = { e_rebels = { holder_scope = { character_event = { id = assassination.402 } } } }
	}
}

# Resolve brainjacking assassination
character_event = {
	id = assassination.402
	hide_window = yes
	is_triggered_only = yes
	
	# Successful
	option = {
		FROM = { FROM = { character_event = { id = assassination.410 } } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				FROM = { FROM = { trait = hiver_implant } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = full_cybernetic_conversion } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = genius } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { trait = quick } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { trait = slow } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = imbecile } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = confident } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = neurotic } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { trait = stressed } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = depressed } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = infirm } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { religion = cyberneticist } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { religion = machine_cultist } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { religion = hiver } }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = hiver_implant }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = full_cybernetic_conversion }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = genius }
			}
			modifier = {
				factor = 0.8
				FROM = { trait = quick }
			}
			modifier = {
				factor = 1.25
				FROM = { trait = slow }
			}
			modifier = {
				factor = 2
				FROM = { trait = imbecile }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = confident }
			}
			modifier = {
				factor = 2
				FROM = { trait = neurotic }
			}
			modifier = {
				factor = 2
				FROM = { trait = stressed }
			}
			modifier = {
				factor = 2
				FROM = { trait = depressed }
			}
			modifier = {
				factor = 2
				FROM = { trait = infirm }
			}
			modifier = {
				factor = 0.8
				FROM = { religion = cyberneticist }
			}
			modifier = {
				factor = 0.8
				FROM = { religion = machine_cultist }
			}
			modifier = {
				factor = 0.8
				FROM = { religion = hiver }
			}
		}
	}
	# Neutral outcome
	option = {
		FROM = { FROM = { character_event = { id = assassination.420 } } }
		ai_chance = { factor = 50 }
	}
	# Backfiring horribly
	option = {
		FROM = { FROM = { character_event = { id = assassination.430 } } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = hiver_implant } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = full_cybernetic_conversion } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = genius } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { trait = quick } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { trait = slow } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = imbecile } }
			}
			modifier = {
				factor = 0.5
				FROM = { FROM = { trait = confident } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = neurotic } }
			}
			modifier = {
				factor = 1.25
				FROM = { FROM = { trait = stressed } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = depressed } }
			}
			modifier = {
				factor = 2
				FROM = { FROM = { trait = infirm } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { religion = cyberneticist } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { religion = machine_cultist } }
			}
			modifier = {
				factor = 0.8
				FROM = { FROM = { religion = hiver } }
			}
			modifier = {
				factor = 2
				FROM = { trait = hiver_implant }
			}
			modifier = {
				factor = 2
				FROM = { trait = full_cybernetic_conversion }
			}
			modifier = {
				factor = 2
				FROM = { trait = genius }
			}
			modifier = {
				factor = 1.25
				FROM = { trait = quick }
			}
			modifier = {
				factor = 0.8
				FROM = { trait = slow }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = imbecile }
			}
			modifier = {
				factor = 2
				FROM = { trait = confident }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = neurotic }
			}
			modifier = {
				factor = 0.8
				FROM = { trait = stressed }
			}
			modifier = {
				factor = 0.5
				FROM = { trait = depressed }
			}
			modifier = {
				factor = 1.25
				FROM = { religion = cyberneticist }
			}
			modifier = {
				factor = 1.25
				FROM = { religion = machine_cultist }
			}
			modifier = {
				factor = 1.25
				FROM = { religion = hiver }
			}
		}
	}
}

# Brainjacking successful!
character_event = {
	id = assassination.410
	desc = "EVTDESCASSASSINATION410"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION410"
		FROM = { FROM = { character_event = { id = assassination.411 tooltip = "EVTTOOLTIPASSASSINATION411" } } }
		if = {
			limit = { has_character_flag = flag_brainjacking_middleman }
			clr_character_flag = flag_brainjacking_middleman
			event_target:target_mastermind = {
				opinion = { who = ROOT modifier = opinion_accomplice }
				hidden_tooltip = { letter_event = { id = assassination.413 } }
			}
		}
		clr_character_flag = murder_in_motion
		hidden_tooltip = { log = "[Root.GetBestName] brainjacked [FromFrom.GetBestName]." }
	}
}
character_event = {
	id = assassination.411
	desc = "EVTDESCASSASSINATION411"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION411"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = { any_realm_character = { character_event = { id = assassination.412 } } }
	}
}
character_event = {
	id = assassination.412
	desc = "EVTDESCASSASSINATION412"
	picture = GFX_cybernetics
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
letter_event = {
	id = assassination.413
	desc = "EVTDESCASSASSINATION413"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		hidden_tooltip = {
			clr_character_flag = murder_in_motion
			clear_event_target = target_mastermind
		}
	}
}

# Brainjacking failed, but not fatally
character_event = {
	id = assassination.420
	desc = "EVTDESCASSASSINATION420"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION420"
		FROM = { FROM = { character_event = { id = assassination.421 tooltip = "EVTTOOLTIPASSASSINATION421" } } }
		if = {
			limit = { NOT = { trait = stressed } }
			add_trait = stressed
		}
		if = {
			limit = { has_character_flag = flag_brainjacking_middleman }
			clr_character_flag = flag_brainjacking_middleman
			event_target:target_mastermind = {
				opinion = { who = ROOT modifier = opinion_accomplice }
				hidden_tooltip = { letter_event = { id = assassination.422 } }
			}
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.421
	desc = "EVTDESCASSASSINATION421"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION421"
	}
}
letter_event = {
	id = assassination.422
	desc = "EVTDESCASSASSINATION422"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		hidden_tooltip = {
			clr_character_flag = murder_in_motion
			clear_event_target = target_mastermind
		}
	}
}

# Brainjacking backfires horribly!
character_event = {
	id = assassination.430
	desc = "EVTDESCASSASSINATION430"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION430"
		FROM = { FROM = { character_event = { id = assassination.431 tooltip = "EVTTOOLTIPASSASSINATION431" } } }
		if = {
			limit = { NOT = { trait = stressed } }
			add_trait = stressed
		}
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
		if = {
			limit = { has_character_flag = flag_brainjacking_middleman }
			clr_character_flag = flag_brainjacking_middleman
			event_target:target_mastermind = {
				opinion = { who = ROOT modifier = opinion_accomplice }
				hidden_tooltip = { character_event = { id = assassination.432 } }
			}
		}
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.431
	desc = "EVTDESCASSASSINATION431"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION431"
	}
}
character_event = {
	id = assassination.432
	desc = "EVTDESCASSASSINATION432"
	picture = GFX_evt_cybernetics
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		hidden_tooltip = {
			clr_character_flag = murder_in_motion
			clear_event_target = target_mastermind
		}
	}
}
# Asking a fellow plotter to do this for you
letter_event = {
	id = assassination.450
	desc = "EVTDESCASSASSINATION450"
	border = GFX_evt_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		set_character_flag = flag_brainjacking_middleman
		FROM = { plot_target_char = { character_event = { id = assassination.401 tooltip = "EVTTOOLTIPASSASSINATION401" } } }
		ai_chance = {
			factor = 100
			modifier = {
				factor = 2
				trait = confident
			}
			modifier = {
				factor = 0.5
				trait = neurotic
			}
			modifier = {
				factor = 0.5
				trait = stressed
			}
			modifier = {
				factor = 2
				trait = full_cybernetic_conversion
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { trait = confident } }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { trait = neurotic } }
			}
			modifier = {
				factor = 2
				FROM = { plot_target_char = { trait = stressed } }
			}
			modifier = {
				factor = 0.5
				FROM = { plot_target_char = { trait = full_cybernetic_conversion } }
			}
			modifier = {
				factor = 0.25
				trait = craven
			}
			modifier = {
				factor = 4
				trait = brave
			}
			modifier = {
				factor = 10
				reverse_has_opinion_modifier = { who = FROM modifier = opinion_favor_ongoing_plot }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		leave_plot = FROM
		FROM = {
			opinion = { who = ROOT modifier = opinion_abandoned_plot }
			hidden_tooltip = { letter_event = { id =  assassination.455 } }
		}
		ai_chance = { factor = 25 }
	}
}
# Not doing it
letter_event = {
	id = assassination.455
	desc = "EVTDESCASSASSINATION455"
	border = GFX_evt_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		clr_character_flag = murder_in_motion
		hidden_tooltip = { clear_event_target = target_mastermind }
	}
}

# Just shoot them
character_event = {
	id = assassination.500
	desc = "EVTDESCASSASSINATION500"
	picture = GFX_evt_cabal
	border = GFX_evt_normal_frame_intrigue
	
	min_age = 18
	prisoner = no
	only_capable = yes
	
	trigger = {
		OR = {
			has_plot = plot_kill_character
			has_plot = plot_kill_spouse
		}
		plot_power = 1.0
		OR = {
			plot_target_char = { at_location = ROOT }
			any_plot_backer = { ROOT = { plot_target_char = { at_location = PREVPREV } } }
		}
	}
	
	mean_time_to_happen = {
		months = 120
		modifier = {
			factor = 0.5
			plot_target_char = { at_location = ROOT }
		}
		modifier = {
			factor = 0.5
			any_plot_backer = { ROOT = { plot_target_char = { at_location = PREVPREV } } }
		}
		modifier = {
			factor = 0.5
			any_plot_backer = {
				ROOT = { plot_target_char = { at_location = PREVPREV } }
				count = 2
			}
		}
	}
	
	immediate = {
		any_plot_backer = { add_trait = target } # So that one can be selected at random later
	}
	
	# Do it yourself
	option = {
		trigger = { plot_target_char = { at_location = ROOT } }
		name = "EVTOPTAASSASSINATION500"
		set_character_flag = murder_in_motion
		hidden_tooltip = { any_plot_backer = { remove_trait = target } }
		if = {
			limit = { NOT = { plot_power = 1.25 } }
			plot_target_char = {
				random_list = {
					50 = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" } }
					50 = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" } }
				}
			}
		}
		if = {
			limit = {
				plot_power = 1.25
				NOT = { plot_power = 1.5 }
			}
			plot_target_char = {
				random_list = {
					40 = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" } }
					60 = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" } }
				}
			}
		}
		if = {
			limit = {
				plot_power = 1.5
				NOT = { plot_power = 1.75 }
			}
			plot_target_char = {
				random_list = {
					30 = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" } }
					70 = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" } }
				}
			}
		}
		if = {
			limit = {
				plot_power = 1.75
				NOT = { plot_power = 2 }
			}
			plot_target_char = {
				random_list = {
					20 = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" } }
					80 = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" } }
				}
			}
		}
		if = {
			limit = { plot_power = 2 }
			plot_target_char = {
				random_list = {
					5 = { character_event = { id = assassination.510 tooltip = "EVTTOOLTIPASSASSINATION510" } }
					90 = { character_event = { id = assassination.520 tooltip = "EVTTOOLTIPASSASSINATION520" } }
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				intrigue = 8
			}
			modifier = {
				factor = 2
				intrigue = 16
			}
			modifier = {
				factor = 2
				intrigue = 24
			}
			modifier = {
				factor = 4
				trait = brave
			}
			modifier = {
				factor = 0.25
				trait = craven
			}
		}
	}
	option = {
		# Ask a co-plotter to do it
		trigger = {
			any_plot_backer = { ROOT = { plot_target_char = { at_location = PREVPREV } } }
		}
		set_character_flag = murder_in_motion
		target = {
			limit = {
				ROOT = {
					plot_target_char = { at_location = PREVPREV }
					# Select the plotter with the highest intrigue
					NOT = {
						any_plot_backer = {
							ROOT = { plot_target_char = { at_location = PREVPREV } }
							attribute_diff = {
								attribute = intrigue
								character = PREVPREV
								value = 1
							}
						}
					}
				}
			}
			letter_event = { id = assassination.550 tooltip = "EVTTOOLTIPASSASSINATION550" }
		}
		hidden_tooltip = { any_plot_backer = { remove_trait = target } }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				any_plot_backer = {
					ROOT = { plot_target_char = { at_location = PREVPREV } }
					intrigue = 8
				}
			}
			modifier = {
				factor = 2
				any_plot_backer = {
					ROOT = { plot_target_char = { at_location = PREVPREV } }
					intrigue = 16
				}
			}
			modifier = {
				factor = 2
				any_plot_backer = {
					ROOT = { plot_target_char = { at_location = PREVPREV } }
					intrigue = 24
				}
			}
		}
	}
	option = {
		name = "EVTOPTCASSASSINATION500"
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.5
				plot_power = 1.25
			}
			modifier = {
				factor = 0.5
				plot_power = 1.5
			}
			modifier = {
				factor = 0.5
				plot_power = 1.75
			}
			modifier = {
				factor = 0.5
				plot_power = 2
			}
		}
	}
}

# Attempting to shoot your own plot target - success!
character_event = {
	id = assassination.510
	desc = "EVTDESCASSASSINATION510"
	picture = GFX_evt_murder
	border = GFX_evt_normal_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		# Chance plotter successful escapes determined by relative intrigue
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 8
					}
				}
			}
			random = {
				chance = 10
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 6
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 8
						}
					}
				}
			}
			random = {
				chance = 20
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 4
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 6
						}
					}
				}
			}
			random = {
				chance = 30
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 2
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 4
						}
					}
				}
			}
			random = {
				chance = 40
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				NOT = {
					FROM = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 2
						}
					}
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 2
					}
				}
			}
			random = {
				chance = 50
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 2
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 4
					}
				}
			}
			random = {
				chance = 60
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 4
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 6
					}
				}
			}
			random = {
				chance = 70
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 6
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 8
					}
				}
			}
			random = {
				chance = 80
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 8
				}
			}
			random = {
				chance = 90
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
	}
	
	# Killer exposed!
	option = {
		trigger = { has_character_flag = flag_killer_exposed }
		name = "EVTOPTAASSASSINATION510"
		clr_character_flag = flag_killer_exposed
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.511 } }
			any_realm_character = { character_event = { id = assassination.512 } }
		}
		hidden_tooltip = { log = "[From.GetBestName] shot [Root.GetBestName]." }
	}
	
	# Killer escapes!
	option = {
		trigger = { NOT = { has_character_flag = flag_killer_exposed } }
		name = "EVTOPTBASSASSINATION510"
		death = { death_reason = death_murder_unknown killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.513 } }
			any_realm_character = { character_event = { id = assassination.514 } }
		}
		hidden_tooltip = { log = "[From.GetBestName] shot [Root.GetBestName]." }
	}
}
character_event = {
	id = assassination.511
	desc = "EVTDESCASSASSINATION511"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION511"
		clr_character_flag = murder_in_motion
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.512
	desc = "EVTDESCASSASSINATION512"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.513
	desc = "EVTDESCASSASSINATION513"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION513"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.514
	desc = "EVTDESCASSASSINATION514"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Failed shooting attempt
character_event = {
	id = assassination.520
	desc = "EVTDESCASSASSINATION520"
	picture = GFX_evt_murder
	border = GFX_evt_normal_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		# Chance plotter successful escapes determined by relative intrigue
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 8
					}
				}
			}
			random = {
				chance = 10
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 6
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 8
						}
					}
				}
			}
			random = {
				chance = 20
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 4
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 6
						}
					}
				}
			}
			random = {
				chance = 30
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 2
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 4
						}
					}
				}
			}
			random = {
				chance = 40
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				NOT = {
					FROM = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 2
						}
					}
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 2
					}
				}
			}
			random = {
				chance = 50
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 2
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 4
					}
				}
			}
			random = {
				chance = 60
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 4
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 6
					}
				}
			}
			random = {
				chance = 70
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 6
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 8
					}
				}
			}
			random = {
				chance = 80
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 8
				}
			}
			random = {
				chance = 90
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
	}
	
	# Attempted murder exposed
	option = {
		trigger = { has_character_flag = flag_killer_exposed }
		name = "EVTOPTAASSASSINATION520"
		clr_character_flag = flag_killer_exposed
		# Limited chance to be wounded or maimed
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
		if = {
			limit = { is_ruler = yes }
			FROM = { imprison = ROOT }
		}
		if = {
			limit = { NOT = { is_ruler = yes } }
			liege = { FROM = { imprison = PREV } }
		}
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.521 } }
			any_realm_character = { character_event = { id = assassination.522 } }
		}
		hidden_tooltip = { log = "[From.GetBestName] failed to kill [Root.GetBestName] and was captured." }
	}
	
	# Killer escapes!
	option = {
		trigger = { NOT = { has_character_flag = flag_killer_exposed } }
		name = "EVTOPTBASSASSINATION520"
		# Limited chance to be wounded or maimed
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.523 } }
			any_realm_character = { character_event = { id = assassination.524 } }
		}
	}
}
# You failed to kill your target AND were caught by security
character_event = {
	id = assassination.521
	desc = "EVTDESCASSASSINATION521"
	picture = GFX_evt_thrown_in_the_dungeon
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		if = {
			limit = { FROM = { is_ruler = yes } }
			imprison = FROM
		}
		if = {
			limit = { FROM = { is_ruler = no } }
			FROM = { liege = { ROOT = { imprison = PREV } } }
		}
		reveal_plot = yes
		clr_character_flag = murder_in_motion
		hidden_tooltip = { character_event = { id = 11 } }
	}
}
character_event = {
	id = assassination.522
	desc = "EVTDESCASSASSINATION522"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# You failed to kill your target but managed to escape
character_event = {
	id = assassination.523
	desc = "EVTDESCASSASSINATION523"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.524
	desc = "EVTDESCASSASSINATION524"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Getting a plot backer to do the assassinating for you!
letter_event = {
	id = assassination.550
	desc = "EVTDESCASSASSINATION550"
	border = GFX_evt_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		if = {
			limit = { FROM = { NOT = { plot_power = 1.25 } } }
			FROM = {
				plot_target_char = {
					random_list = {
						50 = { character_event = { id = assassination.560 tooltip = "EVTTOOLTIPASSASSINATION560" } }
						50 = { character_event = { id = assassination.570 tooltip = "EVTTOOLTIPASSASSINATION570" } }
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					plot_power = 1.25
					NOT = { plot_power = 1.5 }
				}
			}
			FROM = {
				plot_target_char = {
					random_list = {
						60 = { character_event = { id = assassination.560 tooltip = "EVTTOOLTIPASSASSINATION560" } }
						40 = { character_event = { id = assassination.570 tooltip = "EVTTOOLTIPASSASSINATION570" } }
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					plot_power = 1.5
					NOT = { plot_power = 1.75 }
				}
			}
			FROM = {
				plot_target_char = {
					random_list = {
						70 = { character_event = { id = assassination.560 tooltip = "EVTTOOLTIPASSASSINATION560" } }
						30 = { character_event = { id = assassination.570 tooltip = "EVTTOOLTIPASSASSINATION570" } }
					}
				}
			}
		}
		if = {
			limit = {
				FROM = {
					plot_power = 1.75
					NOT = { plot_power = 2 }
				}
			}
			FROM = {
				plot_target_char = {
					random_list = {
						80 = { character_event = { id = assassination.560 tooltip = "EVTTOOLTIPASSASSINATION560" } }
						20 = { character_event = { id = assassination.570 tooltip = "EVTTOOLTIPASSASSINATION570" } }
					}
				}
			}
		}
		if = {
			limit = { FROM = { plot_power = 2 } }
			FROM = {
				plot_target_char = {
					random_list = {
						90 = { character_event = { id = assassination.560 tooltip = "EVTTOOLTIPASSASSINATION560" } }
						10 = { character_event = { id = assassination.570 tooltip = "EVTTOOLTIPASSASSINATION570" } }
					}
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				FROM = { plot_power = 1.25 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 1.5 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 1.75 }
			}
			modifier = {
				factor = 2
				FROM = { plot_power = 2 }
			}
			modifier = {
				factor = 2
				intrigue = 8
			}
			modifier = {
				factor = 2
				intrigue = 16
			}
			modifier = {
				factor = 2
				intrigue = 24
			}
			modifier = {
				factor = 0.25
				trait = craven
			}
			modifier = {
				factor = 4
				trait = brave
			}
			modifier = {
				factor = 10
				reverse_has_opinion_modifier = { who = FROM modifier = opinion_favor_ongoing_plot }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		leave_plot = FROM
		FROM = {
			opinion = { who = ROOT modifier = opinion_abandoned_plot }
			hidden_tooltip = { letter_event = { id =  assassination.555 } }
		}
		ai_chance = { factor = 100 }
	}
}
# Not doing it
letter_event = {
	id = assassination.555
	desc = "EVTDESCASSASSINATION555"
	border = GFX_evt_letter_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		clr_character_flag = murder_in_motion
	}
}

# Attempting to shoot someone else's plot target - success!
character_event = {
	id = assassination.560
	desc = "EVTDESCASSASSINATION510"
	picture = GFX_evt_murder
	border = GFX_evt_normal_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		# Chance plotter successful escapes determined by relative intrigue
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 8
					}
				}
			}
			random = {
				chance = 10
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 6
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 8
						}
					}
				}
			}
			random = {
				chance = 20
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 4
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 6
						}
					}
				}
			}
			random = {
				chance = 30
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 2
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 4
						}
					}
				}
			}
			random = {
				chance = 40
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				NOT = {
					FROM = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 2
						}
					}
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 2
					}
				}
			}
			random = {
				chance = 50
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 2
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 4
					}
				}
			}
			random = {
				chance = 60
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 4
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 6
					}
				}
			}
			random = {
				chance = 70
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 6
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 8
					}
				}
			}
			random = {
				chance = 80
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 8
				}
			}
			random = {
				chance = 90
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
	}
	
	# Killer exposed!
	option = {
		trigger = { has_character_flag = flag_killer_exposed }
		name = "EVTOPTAASSASSINATION510"
		clr_character_flag = flag_killer_exposed
		death = { death_reason = death_murder killer = FROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.561 } }
			any_realm_character = { character_event = { id = assassination.562 } }
			FROM = { FROM = { letter_event = { id = assassination.563 } } }
		}
		hidden_tooltip = { log = "[From.GetBestName] shot [Root.GetBestName] for [FromFrom.GetBestName]." }
	}
	
	# Killer escapes!
	option = {
		trigger = { NOT = { has_character_flag = flag_killer_exposed } }
		name = "EVTOPTBASSASSINATION510"
		death = { death_reason = death_murder_unknown killer = FROMFROM }
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.564 } }
			any_realm_character = { character_event = { id = assassination.565 } }
			FROM = { FROM = { letter_event = { id = assassination.566 } } }
		}
		hidden_tooltip = { log = "[From.GetBestName] shot [Root.GetBestName] for [FromFrom.GetBestName]." }
	}
}
character_event = {
	id = assassination.561
	desc = "EVTDESCASSASSINATION511"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION511"
		hidden_tooltip = { character_event = { id = 10 } }
	}
}
character_event = {
	id = assassination.562
	desc = "EVTDESCASSASSINATION512"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
letter_event = {
	id = assassination.563
	desc = "EVTDESCASSASSINATION563"
	border = GFX_evt_letter_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		opinion = { who = FROMFROM modifier = opinion_accomplice }
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.564
	desc = "EVTDESCASSASSINATION513"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAASSASSINATION513"
	}
}
character_event = {
	id = assassination.565
	desc = "EVTDESCASSASSINATION514"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
letter_event = {
	id = assassination.566
	desc = "EVTDESCASSASSINATION566"
	border = GFX_evt_letter_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		opinion = { who = FROMFROM modifier = opinion_accomplice }
		clr_character_flag = murder_in_motion
	}
}
# Accomplice fails shoot attempting
character_event = {
	id = assassination.570
	desc = "EVTDESCASSASSINATION520"
	picture = GFX_evt_murder
	border = GFX_evt_normal_intrigue
	hide_from = yes
	is_triggered_only = yes
	
	immediate = {
		# Chance plotter successful escapes determined by relative intrigue
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 8
					}
				}
			}
			random = {
				chance = 10
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 6
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 8
						}
					}
				}
			}
			random = {
				chance = 20
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 4
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 6
						}
					}
				}
			}
			random = {
				chance = 30
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				FROM = {
					attribute_diff = {
						attribute = intrigue
						character = ROOT
						value = 2
					}
					NOT = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 4
						}
					}
				}
			}
			random = {
				chance = 40
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				NOT = {
					FROM = {
						attribute_diff = {
							attribute = intrigue
							character = ROOT
							value = 2
						}
					}
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 2
					}
				}
			}
			random = {
				chance = 50
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 2
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 4
					}
				}
			}
			random = {
				chance = 60
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 4
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 6
					}
				}
			}
			random = {
				chance = 70
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 6
				}
				NOT = {
					attribute_diff = {
						attribute = intrigue
						character = FROM
						value = 8
					}
				}
			}
			random = {
				chance = 80
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
		if = {
			limit = {
				attribute_diff = {
					attribute = intrigue
					character = FROM
					value = 8
				}
			}
			random = {
				chance = 90
				set_character_flag = flag_killer_exposed
				save_event_target_as = target_victim
			}
		}
	}
	
	# Attempted murder exposed
	option = {
		trigger = { has_character_flag = flag_killer_exposed }
		name = "EVTOPTAASSASSINATION520"
		clr_character_flag = flag_killer_exposed
		# Limited chance to be wounded or maimed
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
		hidden_tooltip = { FROM = { FROM = { character_event = { id = assassination.571 } } } }
	}
	
	# Killer escapes!
	option = {
		trigger = { NOT = { has_character_flag = flag_killer_exposed } }
		name = "EVTOPTBASSASSINATION520"
		# Limited chance to be wounded or maimed
		random_list = {
			65 = { }
			20 = {
				inflict_minor_injury_effect = yes
				set_character_flag = flag_plot_wounded
			}
			10 = {
				inflict_moderate_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
			5 = {
				inflict_major_injury_effect = yes
				set_character_flag = flag_plot_maimed
			}
		}
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.580 } }
			FROM = { FROM = { letter_event = { id = assassination.581 } } }
			any_realm_character = { character_event = { id = assassination.582 } }
		}
	}
}

# Bounce to get plot leader
character_event = {
	id = assassination.571
	hide_window = yes
	is_triggered_only = yes
	
	immediate = { FROM = { FROM = { character_event = { id = assassination.572 } } } }
}
# Plot backer captured during murder attempt
character_event = {
	id = assassination.572
	desc = "EVTDESCASSASSINATION572"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = {
		# Take full responsibility
		name = "EVTOPTAASSASSINATION572"
		if = {
			limit = { FROM = { FROM = { is_ruler = yes } } }
			imprison = FROMFROM
		}
		if = {
			limit = { FROM = { FROM = { is_ruler = no } } }
			FROM = { FROM = { liege = { ROOT = { imprison = PREV } } } }
		}
		hidden_tooltip = {
			FROM = { character_event = { id = assassination.573 } }
			FROM = { FROM = { character_event = { id = assassination.574 } } }
			character_event = { id = 11 }
		}
		hidden_tooltip = { log = "[Root.GetBestName] failed to shoot [FromFrom.GetBestName] for [From.GetBestName], was captured, and took full responsibility." }
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = disciplined
			}
			modifier = {
				factor = 0.5
				trait = carefree
			}
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 0.5
				trait = craven
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 100 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 90 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 80 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 70 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 60 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 50 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 40 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 30 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 20 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROMFROM value = 10 }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -9 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -19 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -29 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -39 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -49 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -59 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -69 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -79 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -89 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROMFROM value = -99 } }
			}
		}
	}
	option = {
		name = "EVTOPTBASSASSINATION572"
		leave_plot = FROM
		FROM = {
			reveal_plot = yes
			opinion = { who = ROOT modifier = revealed_plot months = 60 }
			hidden_tooltip = { character_event = { id = assassination.576 } }
		}
		hidden_tooltip = { FROMFROM = { character_event = { id = assassination.577 } } }
		hidden_tooltip = { log = "[Root.GetBestName] failed to shoot [From.GetBestName] for [FromFrom.GetBestName], was captured, and testified against [FromFrom.GetFullName]." }
		ai_chance = { factor = 75 }
	}
}
character_event = {
	id = assassination.573
	desc = "EVTDESCASSASSINATION573"
	picture = GFX_evt_thrown_into_the_dungeon
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		clr_character_flag = murder_in_motion
	}
}
character_event = {
	id = assassination.574
	desc = "EVTDESCASSASSINATION574"
	picture = GFX_evt_thronw_into_the_dungeon
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		hidden_tooltip = { any_realm_character = { character_event = { id = assassination.575 } } }
	}
}
character_event = {
	id = assassination.575
	desc = "EVTDESCASSASSINATION524"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
					FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}
# Plot backer reveals the plot
character_event = {
	id = assassination.576
	desc = "EVTDESCASSASSINATION576"
	picture = GFX_evt_scandal
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		reveal_plot = yes
		clr_character_flag = murder_in_motion
		hidden_tooltip = {
			character_event = { id = 11 }
			plot_target_char = { any_realm_character = { character_event = { id = assassination.578 } } }
		}
	}
}
character_event = {
	id = assassination.577
	desc = "EVTDESCASSASSINATION577"
	picture = GFX_evt_scandal
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.578
	desc = "EVTDESCASSASSINATION578"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { FROM = { character = ROOT } }
		NOT = { FROM = { FROM = { character = ROOT } } }
		NOT = { FROM = { plot_target_char = { character = ROOT } } }
		FROM = {
			plot_target_char = {
				OR = {
					is_close_relative = ROOT
					is_liege_of = ROOT
					is_friend = ROOT
					is_rival = ROOT
					is_lover = ROOT
					is_guardian = ROOT
					FROM = { is_guardian = ROOT }
					ROOT = { is_liege_of = PREV }
					spouse = { character = ROOT }
				}
			}
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}

# Plotter fails but escapes
# You failed to kill your target but managed to escape
character_event = {
	id = assassination.580
	desc = "EVTDESCASSASSINATION523"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
	}
}
letter_event = {
	id = assassination.581
	desc = "EVTDESCASSASSINATION581"
	border = GFX_evt_letter_frame_intrigue
	show_from_from = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
character_event = {
	id = assassination.582
	desc = "EVTDESCASSASSINATION524"
	picture = GFX_evt_murder
	border = GFX_evt_normal_frame_intrigue
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM }
		NOT = { character = FROMFROM }
		OR = {
			is_close_relative = FROM
			is_liege_of = FROM
			is_friend = FROM
			is_rival = FROM
			is_lover = FROM
			is_guardian = FROM
			FROM = { is_guardian = ROOT }
			FROM = { is_liege_of = ROOT }
			spouse = { character = FROM }
		}
	}
	
	option = { name = "EVTOPTCONFIRM" }
}