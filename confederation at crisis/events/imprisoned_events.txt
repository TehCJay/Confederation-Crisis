################################################
#
# Imprisoned Events
#
# ID 50000 - 54999 are reserved
namespace = imprisoned
#
##################################################
#
# Written by Sara Wendel-Örtqvist & Henrik Fåhraeus
##################################################
# Added to by Galle (Gregory Hayes)
# 50027		Cut off their manhood and feed it to the goats



#AI yearly imprisonment check, prompt to imprison enemies/traitors/threats
character_event = { #two year pulse
	id = imprisoned.1
	
	is_triggered_only = yes
	only_playable = yes
	ai = yes
	prisoner = no
	capable_only = yes
	min_age = 16
	
	trigger = {
		NOT = { culture_group = unoccupied_group }	
		has_regent = no
		NOT = { primary_title = { has_law = justice_voting_power_1 } }
		NOT_mythical_creature_trigger = yes
	}
	
	immediate = {
		if = { #may also be called from other events
			limit = {
				event_target:imprison_target = {
					is_alive = yes
					is_liege_or_above = ROOT
					prisoner = no
					NOT = { diplomatic_immunity = yes }
				}
				NAND = {
					prisoner = yes
					host = { character = event_target:imprison_target }
				}
			}
			break = yes
		}	
		clear_event_target = imprison_target	
		random_opinion_modifier_target = {
			limit = {
				is_liege_or_above = ROOT
				prisoner = no	
				NOT = { diplomatic_immunity = yes }
				OR = {
					is_foe = ROOT
					AND = {
						plot_target_char = { always = yes }
						plot_target_char = {
							OR = {
								character = ROOT
								is_close_relative = ROOT
							}
						}
						plot_is_known_by = ROOT
					}
					reverse_has_opinion_modifier = { who = ROOT modifier = declared_war }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_dishonorable }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_traitor }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_rebel_traitor }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_corrupt }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_prison_break }
					reverse_has_opinion_modifier = { who = ROOT modifier = opinion_attempted_prison_break }
				}
				NAND = { #not currently rebelling against their direct liege
					is_ruler = yes
					war = yes
					liege_before_war = {
						NOT = { character = ROOT }
						is_liege_or_above = ROOT
					}
				}
				NOT = { war_with = ROOT }
				ROOT = { 
					NAND = { #Not root's captor
						prisoner = yes
						host = { character = PREVPREV }
					}
					OR = { #Regent doesnt like target
						has_regent = no
						regent = { NOT = { opinion = { who = PREVPREV value = 20 } } }
					}
				}
				OR = { #only idiots try to imprison vassals while at war
					is_ruler = no
					ROOT = {
						OR = {
							war = no
							trait = lunatic
							trait = wroth
							NOT = { diplomacy = 5 }
						}
					}	
				}
				NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_ai_imprison_cooldown } }
			}
			save_event_target_as = imprison_target
			break = yes
		}
		#Arbitrary/lunatic may go for people they dont like for no reason
		if = {
			limit = {
				OR = {
					AND = {
						trait = arbitrary
						OR = { #limit excessive tyranny to idiots and lunatics
							NOT = { check_variable = { which = "tyrant" value = 30 } }
							trait = wroth
							NOT = { diplomacy = 5 }
						}
					}	
					trait = lunatic
				}
				NOT = { trait = just }				
				NOT = { trait = honorable }
			}
			random_courtier_or_vassal = {
				limit = {
					is_liege_or_above = ROOT
					prisoner = no	
					NOT = { diplomatic_immunity = yes }
					OR = { #dont target people they like, unless lunatic
						NOT = { reverse_opinion = { who = ROOT value = 0 } }
						ROOT = { trait = lunatic }
					}
					NAND = { #dont target family they dont hate, unless lunatic
						reverse_opinion = { who = ROOT value = -30 }
						is_close_relative = ROOT
						ROOT = { NOT = { trait = lunatic } }
					}
					OR = { #motives
						NOT = { reverse_opinion = { who = ROOT value = -50 } } #hate
						AND = { #zealot dislikes heathen
							NOT = { religion = ROOT }
							NOT = { reverse_opinion = { who = ROOT value = -25 } }
							ROOT = { trait = radical }
						}
						has_opinion_modifier = { who = ROOT modifier = opinion_claimant_adventure_target } #Is planning adventure against me
						AND = { #Power concerns
							ROOT = {
								OR = {
									trait = ruthless
									trait = paranoid
									trait = wroth
								}
							}	
							OR = {
								AND = { #Claimant
									any_claim = {
										holder_scope = { character = ROOT }
									}
									NOT = { is_close_relative = ROOT }									
									NOT = { is_married = ROOT }
									NOT = { liege = { character = ROOT } }										
								}
								AND = { #Dangerous Vassal
									ROOT = { NOT = { trait = trusting } }
									is_ruler = yes
									liege = { character = ROOT }
									OR = {
										AND = {
											relative_power_to_liege = 0.2
											NOT = { opinion = { who = ROOT value = -50 } }
										}
										AND = {
											leads_faction = yes 
											NOT = { leads_faction = faction_liege_loyalist }
											NOT = { leads_faction = faction_crown_loyalist }
										}	
									}							
								}
							}	
						}	
						AND = { #Potential forced marriage target
							ROOT = {
								can_marry_trigger = yes
								NOT = { trait = celibate }
								NOT = { trait = eunuch }
							}
							NOT = { reverse_opinion = { who = ROOT value = 40 } }
							is_female = yes
							age = 10
							can_marry_trigger = yes
							is_incapable = no
							NOT = { age = 30 }
							OR = {
								#Target has a title or claim that is equal or higher to ROOT's rank
								NOT = { lower_tier_than = ROOT }
								any_heir_title = { NOT = { lower_tier_than = ROOT } }
								any_claim = { NOT = { lower_tier_than = ROOT } }
								AND = { #Horny bastard
									trait = fair
									ROOT = { trait = lustful }
								}
							}								
						}		
						AND = { #Ransom potential
							ROOT = {
								OR = {
									trait = greedy
									trait = ruthless
								}
							}	
							is_ruler = no
							wealth = 100
						}								
					}	
					NAND = { #not currently rebelling against their direct liege
						is_ruler = yes
						war = yes
						liege_before_war = {
							NOT = { character = ROOT }
							is_liege_or_above = ROOT
						}
					}
					NOT = { war_with = ROOT }
					ROOT = { 
						NAND = { #Not root's captor
							prisoner = yes
							host = { character = PREVPREV }
						}
						OR = { #Regent doesnt like target
							has_regent = no
							regent = { NOT = { opinion = { who = PREVPREV value = 20 } } }
						}
					}
					OR = { #only idiots try to imprison vassals while at war
						is_ruler = no
						ROOT = {
							OR = {
								war = no
								trait = lunatic
								trait = wroth
								NOT = { diplomacy = 5 }
							}
						}	
					}
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_ai_imprison_cooldown } }
				}
				ROOT = { set_character_flag = tyrannical_imprisonment }
				save_event_target_as = imprison_target
				break = yes
			}
		}
	}
	
	option = {
		name = "IMPRISON"
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0.25
				has_character_flag = tyrannical_imprisonment
			}
			
			modifier = {
				factor = 0.33
				event_target:imprison_target = {
					is_ruler = yes
					higher_tier_than = BARON
				}
			}	
			modifier = {
				factor = 0.5
				event_target:imprison_target = {
					is_ruler = yes
					liege = { character = ROOT }
					relative_power = { who = ROOT power = 0.2 }
				}
			}
			modifier = {
				factor = 0.5
				event_target:imprison_target = {
					is_ruler = yes
					liege = { character = ROOT }
					relative_power = { who = ROOT power = 0.5 }
				}
			}		
			
			modifier = {
				factor = 0.5
				event_target:imprison_target = { reverse_opinion = { who = ROOT value = 75 } }
			}
			modifier = {
				factor = 0.5
				event_target:imprison_target = { reverse_opinion = { who = ROOT value = 50 } }
			}
			modifier = {
				factor = 0.5
				event_target:imprison_target = { reverse_opinion = { who = ROOT value = 25 } }
			}
			modifier = {
				factor = 1.5
				event_target:imprison_target = { NOT = { reverse_opinion = { who = ROOT value = -25 } } }
			}
			modifier = {
				factor = 1.5
				event_target:imprison_target = { NOT = { reverse_opinion = { who = ROOT value = -50 } } }
			}
			modifier = {
				factor = 1.5
				event_target:imprison_target = { NOT = { reverse_opinion = { who = ROOT value = -75 } } }
			}
			
			modifier = {
				factor = 2
				event_target:imprison_target = { is_foe = ROOT }
			}
			modifier = {
				factor = 1.33
				event_target:imprison_target = { plot_target_char = { is_close_relative = ROOT } }
			}
			modifier = {
				factor = 1.5
				event_target:imprison_target = { plot_target_char = { character = ROOT } }
			}
			
			modifier = {
				factor = 1.5
				realm_intrigue = 25
			}
			modifier = {
				factor = 1.5
				realm_intrigue = 37
			}
			
			modifier = {
				factor = 1.33
				trait = proud
			}
			modifier = {
				factor = 1.33
				trait = just
			}
			modifier = {
				factor = 1.33
				trait = envious
			}
			modifier = {
				factor = 1.33
				trait = cruel
			}
			modifier = {
				factor = 1.33
				trait = wroth
			}
			modifier = {
				factor = 1.33
				trait = ruthless
			}
			
			modifier = {
				factor = 0.75
				trait = humble
			}
			modifier = {
				factor = 0.75
				trait = kind
			}
			modifier = {
				factor = 0.75
				trait = patient
			}
			modifier = {
				factor = 0.75
				trait = honorable
			}
		}
		event_target:imprison_target = { opinion = { who = ROOT modifier = opinion_ai_imprison_cooldown months = 120 } }
		if = {
			limit = { has_character_flag = tyrannical_imprisonment }
			if = {
				limit = { 
					event_target:imprison_target = { is_ruler = no }
				}				
				change_variable = { which = "tyrant" value = 10 } 
				character_event = { id = maintenance.1 } #tyrant trait				
			}
			if = {
				limit = { 
					event_target:imprison_target = { is_ruler = yes }
				}
				change_variable = { which = "tyrant" value = 20 } 
				character_event = { id = maintenance.1 } #tyrant trait
				if = {
					limit = { higher_tier_than = COUNT }
					change_variable = { which = fear_actions value = 5 } 
					character_event = { id = faction_event_new.90 } #fear modifier
				}	
			}
			clr_character_flag = tyrannical_imprisonment			
		}
		random_list = {
			50 = { 
				modifier = {
					factor = 1.33
					realm_intrigue = 25
					NOT = { realm_intrigue = 37 } 
				}
				modifier = {
					factor = 1.2
					realm_intrigue = 37
				}
				event_target:imprison_target = { #successfully imprisoned
					imprison = ROOT
					character_event = { id = 151 } 					
				} 
			} 
			50 = { 
				modifier = {
					factor = 0.5
					realm_intrigue = 25
					NOT = { realm_intrigue = 37 } 
				}
				modifier = {
					factor = 0.4
					realm_intrigue = 37
				}
				event_target:imprison_target = { #avoided prison
					if = { #Flee
						limit = { is_ruler = no }
						banish = yes
						character_event = { id = 152 } 								
					}
					if = { #Rebel?
						limit = { is_ruler = yes }
						character_event = { id = 150 } 
					}							
				} 
			}
		}
	}
	option = {
		name = "NO"
		ai_chance = {
			factor = 50
		}	
		clear_event_target = imprison_target
		clr_character_flag = tyrannical_imprisonment
	}
}

###Execution Decision### Choose execution method	
character_event = { 
	id = imprisoned.10
	desc = "EVTDESCimprisoned.10"
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { ai = no }
			set_variable = { which = execution_methods value = 0 }
			if = {
				limit = { 
					NOT = { is_nomadic = yes }
					NOR = {
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}					
					NOT = { has_character_flag = execution_behead_REJECT }
				}
				set_character_flag = execution_behead
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { is_nomadic = yes } 
					NOR = {
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { has_character_flag = execution_hang_REJECT }
				}
				set_character_flag = execution_hang
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					OR = {
						trait = fire_obsessed
						AND = {
							religion = rhllor
							OR = {
								trait = radical
								trait = lunatic
								trait = favored_by_rhllor
								trait = chosen_by_rhllor
							}	
						}
					}
					NOT = { has_character_flag = execution_burn_REJECT }
				}
				set_character_flag = execution_burn
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						religion = drowned_god
						religion_group = wildling_religion
						religion = black_goat
						religion = gods_bone_mountains
						religion = aztec
						religion = aztec_reformed
						religion = old_ones
						religion = gods_nghai
					}
					NOT = { has_character_flag = execution_sacrifice_REJECT }
				}
				set_character_flag = execution_sacrifice
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					culture = dothraki
					age = 16
					NOT = { trait = incapable }
					OR = {
						trait = cruel
						trait = impaler
					}
					NOT = { trait = kind }
					FROM = { #defeated dothraki
						culture = dothraki
						is_female = no
						OR = {
							is_liege_or_above = PREV
							has_opinion_modifier = { who = PREV modifier = opinion_usurped_title }
							has_opinion_modifier = { who = PREV modifier = declared_war }
						}
					}
					NOT = { has_character_flag = execution_dothraki_mutilate_REJECT }
				}
				set_character_flag = execution_dothraki_mutilate
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						dynasty = 87
						AND = {
							trait = cruel
							trait = impaler
							OR = {
								trait = hunter
								trait = lunatic
							}
						}
					}
					NOT = { has_character_flag = execution_flay_REJECT }
				}
				set_character_flag = execution_flay
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					any_friend = { trait = dragon is_alive = yes }
					NOT = { has_character_flag = execution_dragon_REJECT }
				}
				set_character_flag = execution_dragon
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						culture = cannibal_clan
						culture = brindlemen
						has_character_modifier = cannibal
						trait = cannibal_trait
						graphical_culture = beargfx
						culture = bear
						AND = {
							trait = cruel
							random = 10
							OR = {
								culture = skagosi
								culture_group = free_folk
							}					
						}
						AND = {
							random = 1
							OR = {
								trait = impaler
								trait = lunatic
							}	
						}	
					}	
					age = 14
					NOT = { trait = incapable }
					FROM = { age = 12 }
					NOT = { has_character_flag = execution_eat_REJECT }
				}
				set_character_flag = execution_eat
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					has_landed_title = b_the_eyrie
					NOT = { has_character_flag = execution_moon_door_REJECT }
				}
				set_character_flag = execution_moon_door
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						culture_group = ghiscari_group
						AND = {
							trait = liberator
							FROM = {
								OR = {
									trait = slave_owner
									trait = slave_trader
									AND = {
										is_ruler = no
										liege = {
											OR = {
												trait = slave_owner
												trait = slave_trader
											}
											is_close_relative = PREV									
										}
									}
								}
							}
						}
					}
					NOT = { has_character_flag = execution_crucify_REJECT }
				}
				set_character_flag = execution_crucify
				change_variable = { which = execution_methods value = 1 }
			}	
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					culture_group = hyrkoon_group
					age = 14
					FROM = { 
						is_female = no
						age = 14
					}
					NOT = { has_character_flag = execution_snu_snu_REJECT }
				}
				set_character_flag = execution_snu_snu
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					age = 16
					NOT = { trait = incapable }
					NOT = { is_crippled_trigger = yes }
					NOT = { is_weak_trigger = yes }
					prisoner = no
					is_ill = no
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						is_strong_trigger = yes
						AND = {
							is_female = no
							FROM = { 
								OR = {
									is_female = yes
									NOT = { age = 16 }
								}	
							}
						}	
					}
					NOT = { has_character_flag = execution_strangle_REJECT }
				}
				set_character_flag = execution_strangle
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						AND = {
							OR = {
								trait = cruel
								trait = impaler
							}
							OR = {
								trait = wroth
								trait = lunatic
								trait = ruthless
							}
						}	
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { has_character_flag = execution_crush_REJECT }
				}
				set_character_flag = execution_crush
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { has_character_flag = execution_ash_REJECT }
				}
				set_character_flag = execution_ash
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = cruel
						trait = wroth
						trait = ruthless
					}
					NOR = {
						is_nomadic = yes
						is_tribal = yes
						trait = wildling
					}
					NOR = {
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { has_character_flag = execution_hdq_REJECT }
				}
				set_character_flag = execution_hdq
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						dynasty = 102 #Mormont
						capital_scope = { province_id = 33 } #bear island
						AND = {
							OR = {
								trait = cruel
								trait = impaler
							}
							OR = {
								trait = wroth
								trait = lunatic
								trait = ruthless
							}
						}					
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_bear_REJECT }
				}
				set_character_flag = execution_bear
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						dynasty = 190 #Lannister
						capital_scope = { 
							OR = {
								region = world_westerlands 
								region = world_dothraki_sea
							}	
						}				
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_lions_REJECT }
				}
				set_character_flag = execution_lions
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						dynasty = 1 #martell
						capital_scope = { 
							OR = {
								region = world_dorne
								region = world_summer_sea
								region = world_jade_sea
							}	
						}				
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_snake_REJECT }
				}
				set_character_flag = execution_snake
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						AND = {
							OR = {
								trait = cruel
								trait = impaler
							}
							OR = {
								trait = wroth
								trait = lunatic
								trait = ruthless
							}
						}	
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { is_nomadic = yes }
					NOT = { has_character_flag = execution_disembowel_REJECT }
				}
				set_character_flag = execution_disembowel
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOT = { is_nomadic = yes }
					NOT = { has_character_flag = execution_boiling_REJECT }
				}
				set_character_flag = execution_boiling
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOT = { is_nomadic = yes }
					NOT = { has_character_flag = execution_sawing_REJECT }
				}
				set_character_flag = execution_sawing
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = gamer
						trait = hunter
					}
					NOT = { has_character_flag = execution_hunt_REJECT }
				}
				set_character_flag = execution_hunt
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = gardener
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_burial_REJECT }
				}
				set_character_flag = execution_burial
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = architect
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOR = {
						is_nomadic = yes
						is_tribal = yes
					}
					NOT = { has_character_flag = execution_immurement_REJECT }
				}
				set_character_flag = execution_immurement
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = hedonist
						trait = drunkard
					}
					NOR = {
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOR = {
						is_nomadic = yes
						is_tribal = yes			
						trait = wildling
					}
					FROM = {
						OR = {
							is_lowborn = no
							trait = drunkard
						}
					}
					NOT = { has_character_flag = execution_wine_REJECT }
				}
				set_character_flag = execution_wine
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = impaler
					NOT = { has_character_flag = execution_impaling_REJECT }
				}
				set_character_flag = execution_impaling
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = tiger
						capital_scope = {
							OR = {
								region = world_leng
								region = world_yi_ti
								region = world_qohor
							}	
						}			
					}	
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_tiger_REJECT }
				}
				set_character_flag = execution_tiger
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = elephant
						capital_scope = {
							OR = {
								region = world_volantis
								region = world_jade_sea
								region = world_ghiscar
							}	
						}			
					}		
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_elephant_REJECT }
				}
				set_character_flag = execution_elephant
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					capital_scope = { region = world_yi_ti }
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_bamboo_REJECT }
				}
				set_character_flag = execution_bamboo
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						AND = {	
							FROM = {
								OR = {
									trait = homosexual
									NOT = { piety = 0 }
									is_any_kinslayer_trigger = yes
									trait = excommunicated
								}
							}	
							OR = {
								trait = radical
								is_theocracy = yes
							}
							NOT = { is_old_gods_religion_trigger = yes }
							NOT = { religion = rhllor }
							NOT = { religion = summer_rel }
							NOT = { religion = nath_pagan }
						}
						religion = aztec
						religion = aztec_reformed
						religion = sothoryos_rel
					}
					NOT = { has_character_flag = execution_stoning_REJECT }
				}
				set_character_flag = execution_stoning
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						religion_group = wildling_religion
						religion = old_ones
						religion = sothoryos_rel
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_blood_eagle_REJECT }
				}
				set_character_flag = execution_blood_eagle
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						culture = dothraki
						is_nomadic = yes
					}
					NOT = { has_character_flag = execution_horses_REJECT }
				}
				set_character_flag = execution_horses
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						culture = dothraki
						is_nomadic = yes
					}
					FROM = { is_lowborn = no }
					NOT = { has_character_flag = execution_back_breaking_REJECT }
				}
				set_character_flag = execution_back_breaking
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
					NOR = {
						trait = kind
						trait = honorable
					}
					NOR = {
						is_nomadic = yes
						is_tribal = yes
					}
					NOT = { has_character_flag = execution_wheel_REJECT }
				}
				set_character_flag = execution_wheel
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = hunter	
					NOR = {
						trait = kind
						trait = honorable
					}
					NOT = { has_character_flag = execution_boar_REJECT }
				}
				set_character_flag = execution_boar
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = wolf
					NOT = { has_character_flag = execution_wolf_REJECT }
				}
				set_character_flag = execution_wolf
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = shadowcat
					NOT = { has_character_flag = execution_shadowcat_REJECT }
				}
				set_character_flag = execution_shadowcat
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = snowbear
					NOT = { has_character_flag = execution_snowbear_REJECT }
				}
				set_character_flag = execution_snowbear
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = direwolf
					NOT = { has_character_flag = execution_direwolf_REJECT }
				}
				set_character_flag = execution_direwolf
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = brownbear
					NOT = { has_character_flag = execution_brownbear_REJECT }
				}
				set_character_flag = execution_brownbear
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = boar
					NOT = { has_character_flag = execution_boar_trait_REJECT }
				}
				set_character_flag = execution_boar_trait
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { 
					NOT = { check_variable = { which = execution_methods value = 2.9 } }
					trait = dog
					NOT = { has_character_flag = execution_dog_REJECT }
				}
				set_character_flag = execution_dog
				change_variable = { which = execution_methods value = 1 }
			}
			if = {
				limit = { NOT = { check_variable = { which = execution_methods value = 2.9 } } }
				clr_character_flag = execution_behead_REJECT
				clr_character_flag = execution_hang_REJECT
				clr_character_flag = execution_burn_REJECT
				clr_character_flag = execution_sacrifice_REJECT
				clr_character_flag = execution_dothraki_mutilate_REJECT
				clr_character_flag = execution_flay_REJECT
				clr_character_flag = execution_dragon_REJECT
				clr_character_flag = execution_eat_REJECT
				clr_character_flag = execution_moon_door_REJECT
				clr_character_flag = execution_crucify_REJECT
				clr_character_flag = execution_snu_snu_REJECT
				clr_character_flag = execution_strangle_REJECT
				clr_character_flag = execution_crush_REJECT
				clr_character_flag = execution_ash_REJECT
				clr_character_flag = execution_hdq_REJECT
				clr_character_flag = execution_bear_REJECT
				clr_character_flag = execution_lions_REJECT
				clr_character_flag = execution_snake_REJECT
				clr_character_flag = execution_disembowel_REJECT
				clr_character_flag = execution_boiling_REJECT
				clr_character_flag = execution_sawing_REJECT
				clr_character_flag = execution_hunt_REJECT
				clr_character_flag = execution_burial_REJECT
				clr_character_flag = execution_immurement_REJECT
				clr_character_flag = execution_wine_REJECT
				clr_character_flag = execution_impaling_REJECT
				clr_character_flag = execution_tiger_REJECT
				clr_character_flag = execution_elephant_REJECT
				clr_character_flag = execution_bamboo_REJECT
				clr_character_flag = execution_stoning_REJECT
				clr_character_flag = execution_blood_eagle_REJECT
				clr_character_flag = execution_horses_REJECT
				clr_character_flag = execution_back_breaking_REJECT
				clr_character_flag = execution_wheel_REJECT
				clr_character_flag = execution_boar_REJECT
				clr_character_flag = execution_wolf_REJECT
				clr_character_flag = execution_shadowcat_REJECT
				clr_character_flag = execution_snowbear_REJECT
				clr_character_flag = execution_direwolf_REJECT
				clr_character_flag = execution_brownbear_REJECT
				clr_character_flag = execution_boar_trait_REJECT
				clr_character_flag = execution_dog_REJECT
			}
		}			
	}
	
	option = {
		name = "BACKUP" #AI backup option
		trigger = {
			always = no
		}
		ai_chance = {
			factor = 0		
		}
		hidden_tooltip = { 	
			FROM = { character_event = { id = 154 } } #On executed
		}
		FROM = {
			death = {
				death_reason = death_execution
				killer = ROOT
			}
		}
	}

	option = {
		name = "MORE"
		trigger = {
			ai = no		
		}
		ai_chance = {
			factor = 0
		}	
		if = { #double check
			limit = { ai = no }
			if = {
				limit = { has_character_flag = execution_behead }
				set_character_flag = execution_behead_REJECT
			}
			if = {
				limit = { has_character_flag = execution_hang }
				set_character_flag = execution_hang_REJECT
			}
			if = {
				limit = { has_character_flag = execution_burn }
				set_character_flag = execution_burn_REJECT
			}
			if = {
				limit = { has_character_flag = execution_sacrifice }
				set_character_flag = execution_sacrifice_REJECT
			}
			if = {
				limit = { has_character_flag = execution_dothraki_mutilate }
				set_character_flag = execution_dothraki_mutilate_REJECT
			}
			if = {
				limit = { has_character_flag = execution_flay }
				set_character_flag = execution_flay_REJECT
			}
			if = {
				limit = { has_character_flag = execution_dragon }
				set_character_flag = execution_dragon_REJECT
			}
			if = {
				limit = { has_character_flag = execution_eat }
				set_character_flag = execution_eat_REJECT
			}
			if = {
				limit = { has_character_flag = execution_moon_door }
				set_character_flag = execution_moon_door_REJECT
			}
			if = {
				limit = { has_character_flag = execution_crucify }
				set_character_flag = execution_crucify_REJECT
			}
			if = {
				limit = { has_character_flag = execution_snu_snu }
				set_character_flag = execution_snu_snu_REJECT
			}
			if = {
				limit = { has_character_flag = execution_strangle }
				set_character_flag = execution_strangle_REJECT
			}
			if = {
				limit = { has_character_flag = execution_crush }
				set_character_flag = execution_crush_REJECT
			}
			if = {
				limit = { has_character_flag = execution_ash }
				set_character_flag = execution_ash_REJECT
			}
			if = {
				limit = { has_character_flag = execution_hdq }
				set_character_flag = execution_hdq_REJECT
			}
			if = {
				limit = { has_character_flag = execution_bear }
				set_character_flag = execution_bear_REJECT
			}
			if = {
				limit = { has_character_flag = execution_lions }
				set_character_flag = execution_lions_REJECT
			}
			if = {
				limit = { has_character_flag = execution_snake }
				set_character_flag = execution_snake_REJECT
			}
			if = {
				limit = { has_character_flag = execution_disembowel }
				set_character_flag = execution_disembowel_REJECT
			}
			if = {
				limit = { has_character_flag = execution_boiling }
				set_character_flag = execution_boiling_REJECT
			}
			if = {
				limit = { has_character_flag = execution_sawing }
				set_character_flag = execution_sawing_REJECT
			}
			if = {
				limit = { has_character_flag = execution_hunt }
				set_character_flag = execution_hunt_REJECT
			}
			if = {
				limit = { has_character_flag = execution_burial }
				set_character_flag = execution_burial_REJECT
			}
			if = {
				limit = { has_character_flag = execution_immurement }
				set_character_flag = execution_immurement_REJECT
			}
			if = {
				limit = { has_character_flag = execution_wine }
				set_character_flag = execution_wine_REJECT
			}
			if = {
				limit = { has_character_flag = execution_impaling }
				set_character_flag = execution_impaling_REJECT
			}
			if = {
				limit = { has_character_flag = execution_tiger }
				set_character_flag = execution_tiger_REJECT
			}
			if = {
				limit = { has_character_flag = execution_elephant }
				set_character_flag = execution_elephant_REJECT
			}
			if = {
				limit = { has_character_flag = execution_bamboo }
				set_character_flag = execution_bamboo_REJECT
			}
			if = {
				limit = { has_character_flag = execution_stoning }
				set_character_flag = execution_stoning_REJECT
			}
			if = {
				limit = { has_character_flag = execution_blood_eagle }
				set_character_flag = execution_blood_eagle_REJECT
			}
			if = {
				limit = { has_character_flag = execution_horses }
				set_character_flag = execution_horses_REJECT
			}
			if = {
				limit = { has_character_flag = execution_back_breaking }
				set_character_flag = execution_back_breaking_REJECT
			}
			if = {
				limit = { has_character_flag = execution_wheel }
				set_character_flag = execution_wheel_REJECT
			}
			if = {
				limit = { has_character_flag = execution_boar }
				set_character_flag = execution_boar_REJECT
			}
			if = {
				limit = { has_character_flag = execution_wolf }
				set_character_flag = execution_wolf_REJECT
			}
			if = {
				limit = { has_character_flag = execution_shadowcat }
				set_character_flag = execution_shadowcat_REJECT
			}
			if = {
				limit = { has_character_flag = execution_snowbear }
				set_character_flag = execution_snowbear_REJECT
			}
			if = {
				limit = { has_character_flag = execution_direwolf }
				set_character_flag = execution_direwolf_REJECT
			}
			if = {
				limit = { has_character_flag = execution_brownbear }
				set_character_flag = execution_brownbear_REJECT
			}
			if = {
				limit = { has_character_flag = execution_boar_trait }
				set_character_flag = execution_boar_trait_REJECT
			}
			if = {
				limit = { has_character_flag = execution_dog }
				set_character_flag = execution_dog_REJECT
			}
			hidden_tooltip = { 
				clr_character_flag = execution_behead
				clr_character_flag = execution_hang
				clr_character_flag = execution_burn
				clr_character_flag = execution_sacrifice
				clr_character_flag = execution_dothraki_mutilate
				clr_character_flag = execution_flay
				clr_character_flag = execution_dragon
				clr_character_flag = execution_eat
				clr_character_flag = execution_moon_door
				clr_character_flag = execution_crucify
				clr_character_flag = execution_snu_snu
				clr_character_flag = execution_strangle
				clr_character_flag = execution_crush
				clr_character_flag = execution_ash
				clr_character_flag = execution_hdq
				clr_character_flag = execution_bear
				clr_character_flag = execution_lions
				clr_character_flag = execution_snake
				clr_character_flag = execution_disembowel
				clr_character_flag = execution_boiling
				clr_character_flag = execution_sawing
				clr_character_flag = execution_hunt
				clr_character_flag = execution_burial
				clr_character_flag = execution_immurement
				clr_character_flag = execution_wine
				clr_character_flag = execution_impaling
				clr_character_flag = execution_tiger
				clr_character_flag = execution_elephant
				clr_character_flag = execution_bamboo
				clr_character_flag = execution_stoning
				clr_character_flag = execution_blood_eagle
				clr_character_flag = execution_horses
				clr_character_flag = execution_back_breaking
				clr_character_flag = execution_wheel
				clr_character_flag = execution_boar
				clr_character_flag = execution_wolf
				clr_character_flag = execution_shadowcat
				clr_character_flag = execution_snowbear
				clr_character_flag = execution_direwolf
				clr_character_flag = execution_brownbear
				clr_character_flag = execution_boar_trait
				clr_character_flag = execution_dog
				repeat_event = { id = imprisoned.10 } 
			}	
		}	
	}
	option = {
		name = "EVTOPTAimprisoned.10" #Behead
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_behead
			}	
			NOR = {
				religion = aztec
				religion = aztec_reformed
				religion = sothoryos_rel
			}
			NOT = { is_nomadic = yes }
		}
		ai_chance = {
			factor = 300
			
			modifier = {
				factor = 3
				trait = kind
			}
			modifier = {
				factor = 2
				trait = temperate
			}
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = honorable
			}
			modifier = {
				factor = 0.33
				OR = {
					trait = just
					trait = honorable
				}	
				FROM = { is_lowborn = yes }
			}
		}
		hidden_tooltip = { 	
			if = { #Swing the Sword?
				limit = { 
					culture_group = first_men
					OR = {
						is_female = no
						trait = skilled_warrior
						trait = master_warrior
						combat_rating = 60
					}	
					age = 14
					has_regent = no
					NAND = {
						culture = old_first_man
						capital_scope = { NOT = { region = world_north } }
					}
					has_severe_disability_trigger = no
				}
				character_event = { id = 50034 } 			
			}
			FROM = { character_event = { id = 154 } } #On executed
		}
		FROM = {
			death = {
				death_reason = death_execution_beheading
				killer = ROOT
			}
		}	
		hidden_tooltip = {
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}	
		}
	}
	option = {
		name = "EVTOPTBimprisoned.10" #Hang
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_hang
			}
			NOR = {
				religion = aztec
				religion = aztec_reformed
				religion = sothoryos_rel
			}
			NOT = { is_nomadic = yes }			
		}
		ai_chance = {
			factor = 200
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = temperate
			}
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = honorable
			}
			modifier = {
				factor = 0.15
				FROM = { is_lowborn = no }
			}
			modifier = {
				factor = 0
				OR = {
					trait = just
					trait = honorable
				}	
				FROM = { is_lowborn = no }
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_hanging
				killer = ROOT
			}
		}	
		hidden_tooltip = {
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}	
		}		
	}
	option = {
		name = "EVTOPTCimprisoned.10" #Burn
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_burn
			}
			OR = {
				trait = fire_obsessed
				AND = {
					religion = rhllor
					OR = {
						trait = radical
						trait = lunatic
						trait = favored_by_rhllor
						trait = chosen_by_rhllor
					}	
				}
			}
		}
		ai_chance = {
			factor = 50 
					
			modifier = {
				factor = 5
				trait = fire_obsessed
			}	
			modifier = {
				factor = 3
				religion = rhllor
			}
			modifier = {
				factor = 8
				OR = {
					trait = resurrected_by_rhllor
					trait = chosen_by_rhllor
				}
			}
			modifier = {
				factor = 3
				trait = favored_by_rhllor
			}
			modifier = {
				factor = 20
				religion = rhllor
				trait = radical
			}
			modifier = {
				factor = 3
				religion = rhllor
				FROM = {
					OR = {
						is_feudal_monarch_trigger = yes
						father_even_if_dead = { is_feudal_monarch_trigger = yes }
						mother_even_if_dead = { father_even_if_dead = { is_feudal_monarch_trigger = yes } }
						father_even_if_dead = { father_even_if_dead = { is_feudal_monarch_trigger = yes } }
						any_claim = { holder_scope = { is_feudal_monarch_trigger = yes } }
					}
				}
			}
			modifier = {
				factor = 0.2
				religion = rhllor
				trait = pragmatic
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
				NAND = {
					religion = rhllor
					trait = radical
				}
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
				NAND = {
					religion = rhllor
					trait = radical
				}
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = fire_obsessed.3 }
			FROM = { character_event = { id = 154 } } #On executed	 
		}
		add_fear_torture_execution_effect = yes
		if = {
			limit = { religion = rhllor }
			if = {
				limit = { 
					NOT = { trait = radical } 
					NOT = { trait = pragmatic }
				}
				random = {
					chance = 10
					add_trait = radical
					hidden_tooltip = { character_event = { id = 38269 } }
				}
			}
			FROM = {
				sacrifice_piety_effect = yes
				death = {
					death_reason = death_sacrificed_rhllor
					killer = ROOT
				}
				increase_red_god_magic = yes
			}	
		}	
			
		if = {
			limit = { NOT = { religion = rhllor } }
			if = { 
				limit = { 
					NOT = { trait = cruel } 
					NOT = { trait = kind } 
				}
				add_trait = cruel
			}
			piety = -50
			FROM = {
				death = {
					death_reason = death_execution_burning
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = {
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}	
		}
	}
	option = {
		name = "EVTOPTDimprisoned.10" #Sacrifice
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_sacrifice
			}
			OR = {
				religion = drowned_god
				religion_group = wildling_religion
				religion = black_goat
				religion = gods_bone_mountains
				religion = aztec
				religion = aztec_reformed
				religion = old_ones
				religion = gods_nghai
			}
		}
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 20
				trait = radical
			}
			modifier = {
				factor = 0.1
				trait = pragmatic
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 40 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.5
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = 154 } } #On executed	 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}
		add_fear_torture_execution_effect = yes
		FROM = { sacrifice_piety_effect = yes }
		if = {
			limit = { religion = drowned_god }
			if = {
				limit = { 
					NOT = { trait = radical } 
					NOT = { trait = pragmatic }
					NOT = { personality_traits = 6 }
				}
				random = {
					chance = 10
					add_trait = radical
					hidden_tooltip = {
						character_event = {
							id = 38269 #Notify Zealous
						}
					}
				}
			}
			if = {
				limit = { 
					NOT = { trait = cruel } 
					NOT = { trait = kind }
					NOT = { personality_traits = 6 }
				}
				random = {
					chance = 10
					add_trait = cruel
					hidden_tooltip = {
						character_event ={
							id = 38259 #Notify Cruel
						}
					}
				}
			}
			hidden_tooltip = { character_event = { id = 50030 } }					
			FROM = {
				hidden_tooltip = { 
					character_event = { id = 50031 } 
				}
				tooltip = {
					death = {
						death_reason = death_sacrificed_drowned
						killer = ROOT
					}
				}	
			}	
		}	
		if = {
			limit = { 
				OR = {
					religion = aztec
					religion = aztec_reformed
				}
			}
			if = {
				limit = { 
					NOT = { trait = radical } 
					NOT = { trait = pragmatic }
					NOT = { personality_traits = 6 }
				}
				random = {
					chance = 10
					add_trait = radical
					hidden_tooltip = {
						character_event = {
							id = 38269 #Notify Zealous
						}
					}
				}
			}	
			hidden_tooltip = {
				FROM = {
					any_liege = {
						limit = { 
							ai = no
							NOT = { character = PREV }
						}
						character_event = { id = SSI.60 }
					}
				}	
				character_event = { id = SSI.72 }
			}
			FROM = {
				death = {
					death_reason = death_execution_aztec_sacrifice
					killer = ROOT
				}
			}	
		}
		if = {
			limit = { 
				NOR = { 
					religion = drowned_god 
					religion = aztec
					religion = aztec_reformed
				} 
			}
			if = {
				limit = { 
					NOT = { trait = radical } 
					NOT = { trait = pragmatic }
					NOT = { personality_traits = 6 }
				}
				random = {
					chance = 10
					add_trait = radical
					hidden_tooltip = {
						character_event = {
							id = 38269 #Notify Zealous
						}
					}
				}
			}
			hidden_tooltip = { 
				# if = { LOCALISATION MISSING
					# limit = { religion_group = wildling_religion }
					# character_event = { id = 50060 }
					# FROM = { character_event = { id = 50061 } }
					# break = yes
				# }	
				if = {
					limit = { religion = black_goat }
					character_event = { id = free_cities.200 }
					FROM = { character_event = { id = free_cities.201 } }
					break = yes
				}
			}					
			FROM = {
				death = {
					death_reason = death_sacrificed
					killer = ROOT
				}
			}	
		}	
	}
	
	option = {
		name = "EVTOPTEimprisoned.10" #Dothraki Mutilate
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_dothraki_mutilate
			}
			culture = dothraki
			age = 16
			NOT = { trait = incapable }
			OR = {
				trait = cruel
				trait = impaler
			}
			NOT = { trait = kind }
			FROM = { #defeated dothraki
				culture = dothraki
				is_female = no
				OR = {
					is_liege_or_above = PREV
					has_opinion_modifier = { who = PREV modifier = opinion_usurped_title }
					has_opinion_modifier = { who = PREV modifier = declared_war }
				}
			}
		}
		ai_chance = {
			factor = 25 
			
			modifier = {
				factor = 0
				trait = kind
			}
			modifier = {
				factor = 3
				religion = rhllor
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = dothraki.830 } 
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		if = { 
			limit = { 
				NOT = { trait = cruel } 
				NOT = { trait = kind } 
			}
			add_trait = cruel
		}
		FROM = {
			death = {
				death_reason = death_execution_dothraki_mutilation
				killer = ROOT
			}
		}	
		hidden_tooltip = {
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}	
		}		
	}
	
	option = {
		name = "EVTOPTFimprisoned.10" #Flay
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_flay
			}
			OR = {
				dynasty = 87
				AND = {
					trait = cruel
					trait = impaler
					OR = {
						trait = hunter
						trait = lunatic
					}
				}
			}
			NOT = { trait = kind }
		}
		ai_chance = {
			factor = 25
			
			modifier = {
				factor = 3
				dynasty = 87
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		piety = -25
		prestige = 15
		if = {
			limit = { NOT = { trait = impaler } }
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		if = {
			limit = { 
				NOT = { trait = cruel } 
				NOT = { trait = kind } 
			}
			random = {
				chance = 10
				add_trait = cruel
				hidden_tooltip = {
					character_event ={
						id = 38259 #Notify Cruel
					}
				}
			}
		}
		FROM = {
			hidden_tooltip = { 
				ROOT = { character_event = { id = 50028 } }
				character_event = { id = 50029 }					
			}
			tooltip = {
				death = {
					death_reason = death_execution_flaying
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTGimprisoned.10" #Feed to Dragon
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_dragon
			}
			any_friend = { trait = dragon is_alive = yes }
		}
		ai_chance = {
			factor = 50

			modifier = {
				factor = 3
				religion = valyrian_rel
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = dragon.71 } 
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		piety = -25
		if = {
			limit = { 
				NOT = { trait = cruel } 
				NOT = { trait = kind }
			}
			random = {
				chance = 25
				add_trait = cruel
				hidden_tooltip = {
					character_event ={
						id = 38259 #Notify Cruel
					}
				}
			}
		}
		FROM = {
			hidden_tooltip = { 
				if = { 
					limit = { 
						father = { 
							NOT = { character = ROOT } 
							is_alive = yes 
						}  		
					}
					father = {
						character_event = { id = dragon.72 days = 1 }
					}
				}
				if = {
					limit = { 
						mother = { 
							NOT = { character = ROOT } 
							is_alive = yes 
						} 
					}
					mother = {
						character_event = { id = dragon.72 days = 1 }
					}
				}
				any_dynasty_member = {
					limit = { 
						is_close_relative = FROM  
						ai = no
						NOT = { is_parent_of = FROM }
						NOT = { character = ROOT }  
					}
					character_event = { id = dragon.72 days = 1 }
				}	
				spouse = {
					if = { 
						limit = { 
							NOT = { character = ROOT } 
							is_alive = yes
							OR = {
								NOT = { dynasty = FROM }
								NOT = { is_close_relative = FROM }
							}
						}
						character_event = { id = dragon.72 days = 1 }
					}
				}					
			}
			tooltip = {
				death = {
					death_reason = death_execution_dragon
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTHimprisoned.10" #Eat Prisoner
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_eat
			}
			OR = {
				culture = cannibal_clan
				culture = brindlemen
				has_character_modifier = cannibal
				trait = cannibal_trait
				graphical_culture = beargfx
				culture = bear
				AND = {
					trait = cruel
					random = 10
					OR = {
						culture = skagosi
						culture_group = free_folk
					}					
				}
				AND = {
					random = 1
					OR = {
						trait = impaler
						trait = lunatic
					}	
				}	
			}	
			age = 14
			NOT = { trait = incapable }
			FROM = { age = 12 }
		}
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
			}
			modifier = {
				factor = 0.02
				NOR = {
					culture = cannibal_clan
					culture = brindlemen
					has_character_modifier = cannibal
					trait = cannibal_trait
					graphical_culture = beargfx
					culture = bear
				}
			}
			modifier = { #kind does not cancel out the crazy
				factor = 0
				trait = kind
				NOT = { trait = lunatic }
			}		
			modifier = {
				factor = 0.5
				culture = FROM
			}
			modifier = {
				factor = 2
				FROM = { trait = nightswatch }
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
			
			
		}
		hidden_tooltip = { 
			character_event = { id = wildling.66 }
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		piety = -25
		if = {
			limit = { culture = cannibal_clan }
			prestige = 25
		}
		if = {
			limit = { 
				NOT = { trait = cruel } 
				NOT = { trait = kind }
			}
			random = {
				chance = 25
				modifier = {
					factor = 0.4
					culture = cannibal_clan
				}
				add_trait = cruel
				hidden_tooltip = {
					character_event ={
						id = 38259 #Notify Cruel
					}
				}
			}
		}
		if = {
			limit = {
				OR = {
					trait = cannibal_trait
					has_character_modifier = cannibal
				}	
				NOT = { has_character_modifier = crazy_cannibal }
				NOR = {
					culture = cannibal_clan
					culture = brindlemen
				}
			}
			add_character_modifier = {
				name = crazy_cannibal
				duration = -1
			}
		}
		if = {
			limit = {
				NOR = {
					culture = cannibal_clan
					trait = cannibal_trait
					culture = brindlemen
					has_character_modifier = cannibal
				}
			}
			add_trait = cannibal_trait
		}
		
		FROM = {
			hidden_tooltip = { 
				character_event = { id = wildling.67 }
				if = { 
					limit = { 
						father = { 
							NOT = { character = ROOT } 
							is_alive = yes 
						}  		
					}
					father = {
						character_event = { id = wildling.68 days = 1 }
					}
				}
				if = {
					limit = { 
						mother = { 
							NOT = { character = ROOT } 
							is_alive = yes 
						} 
					}
					mother = {
						character_event = { id = wildling.68 days = 1 }
					}
				}
				any_dynasty_member = {
					limit = { 
						is_close_relative = FROM  
						ai = no
						NOT = { is_parent_of = FROM }
						NOT = { character = ROOT }  
					}
					character_event = { id = wildling.68 days = 1 }
				}	
				spouse = {
					if = { 
						limit = { 
							NOT = { character = ROOT } 
							is_alive = yes
							OR = {
								NOT = { dynasty = FROM }
								NOT = { is_close_relative = FROM }
							}
						}
						character_event = { id = wildling.68 days = 1 }
					}
				}					
			}
			tooltip = {
				death = {
					death_reason = death_execution_eaten
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTIimprisoned.10" #Moon Door
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_moon_door
			}
			has_landed_title = b_the_eyrie
		}
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = 50032 }
			FROM = { character_event = { id = 154 } } #On executed	
		}
		prestige = 20
		if = {
			limit = { 
				NOT = { trait = wroth } 
				NOT = { trait = patient }
				NOT = { personality_traits = 6 }
			}
			random = {
				chance = 10
				add_trait = wroth
				hidden_tooltip = {
					character_event = {
						id = 38254 #Notify wroth
					}
				}
			}
		}
		if = {
			limit = { trait = patient } 
			random = {
				chance = 10
				remove_trait = patient
			}
		}	
		FROM = {
			hidden_tooltip = { 
				character_event = { id = 50033 tooltip = EVTTOOLTIP50033 }			
			}
			tooltip = {
				death = {
					death_reason = death_execution_moon_door
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	
	option = {
		name = "EVTOPTJimprisoned.10" #Crucify
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_crucify
			}
			OR = {
				culture_group = ghiscari_group
				AND = {
					trait = liberator
					FROM = {
						OR = {
							trait = slave_owner
							trait = slave_trader
							AND = {
								is_ruler = no
								liege = {
									OR = {
										trait = slave_owner
										trait = slave_trader
									}
									is_close_relative = PREV									
								}
							}
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 50 
			
			modifier = {
				factor = 0.1
				NOT = { trait = liberator }
				FROM = { is_lowborn = no }
			}
			modifier = {
				factor = 10
				trait = slave_owner
				FROM = { trait = slave }
			}
			modifier = {
				factor = 5
				trait = liberator
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { 
			character_event = { id = 50054 } 
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		FROM = {
			hidden_tooltip = { 
				character_event = { id = 50055 }			
			}
			tooltip = {
				death = {
					death_reason = death_execution_crucifixion
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTKimprisoned.10" #Snu Snu
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_snu_snu
			}
			culture_group = hyrkoon_group
			age = 14
			FROM = { 
				is_female = no
				age = 14
			}
		}
		ai_chance = {
			factor = 25			
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = 50056 }
			FROM = { character_event = { id = 154 } } #On executed	
		}
		FROM = {
			hidden_tooltip = { 
				character_event = { id = 50057 }		
			}
			tooltip = {
				death = {
					death_reason = death_execution_snu_snu
					killer = ROOT
				}
			}	
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTLimprisoned.10" #Strangle
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_strangle
			}
			age = 16
			NOT = { trait = incapable }
			NOT = { is_crippled_trigger = yes }
			NOT = { is_weak_trigger = yes }
			prisoner = no
			is_ill = no
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				is_strong_trigger = yes
				AND = {
					is_female = no
					FROM = { 
						OR = {
							is_female = yes
							NOT = { age = 16 }
						}	
					}
				}	
			}
		}
		ai_chance = {
			factor = 25		
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { 
			character_event = { id = 50058 }
			FROM = { character_event = { id = 154 } } #On executed	
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		FROM = {
			father = {
				if = {
					limit = {
						NOT = { character = ROOT }
						host = { character = ROOT }
					}
					opinion = { who = ROOT modifier = opinion_cruel }
					hidden_tooltip = { character_event = { id = 50059 } }
				}
			}
			mother = {
				if = {
					limit = {
						NOT = { character = ROOT }
						host = { character = ROOT }
					}
					opinion = { who = ROOT modifier = opinion_cruel }
					hidden_tooltip = { character_event = { id = 50059 } }
				}
			}
			any_child = {
				limit = {
					NOT = { character = ROOT }
					host = { character = ROOT }
				}
				opinion = { who = ROOT modifier = opinion_cruel }
				hidden_tooltip = { character_event = { id = 50059 } }
			}
			death = {
				death_reason = death_execution_strangle
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	
	option = {
		name = "EVTOPTMimprisoned.10" #Crush
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_crush
			}
			OR = {
				AND = {
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
				}	
 				religion = aztec
	 			religion = aztec_reformed
				religion = sothoryos_rel
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 8
				OR = {
					religion = aztec
					religion = aztec_reformed
					religion = sothoryos_rel
				}
			}	

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_crushing
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	
	option = {
		name = "EVTOPTNimprisoned.10" #Ash
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_ash
			}
			OR = {
 				religion = aztec
	 			religion = aztec_reformed
				religion = sothoryos_rel
			}
		}
		ai_chance = {
			factor = 200

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_ash
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTOimprisoned.10" #hung drawn and quartered
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_hdq
			}
			OR = {
				trait = cruel
				trait = wroth
				trait = ruthless
			}
			NOR = {
				is_nomadic = yes
				is_tribal = yes
				trait = wildling
			}
			NOR = {
				religion = aztec
	 			religion = aztec_reformed
				religion = sothoryos_rel
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 4
				FROM = { just_execution_reason_PREV_trigger = yes }
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}						
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_hdq
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTPimprisoned.10" #bear
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_bear
			}
			OR = {
				dynasty = 102 #Mormont
				capital_scope = { province_id = 33 } #bear island
				trait = brownbear
				trait = snowbear
				AND = {
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
				}					
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				trait = hunter
			}
			modifier = {
				factor = 3
				OR = {
					dynasty = 102 #Mormont
					capital_scope = { province_id = 33 } #bear island
					trait = brownbear
					trait = snowbear
				}	
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_bear
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTQimprisoned.10" #lions
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_lions
			}
			OR = {
				dynasty = 190 #Lannister
				capital_scope = { 
					OR = {
						region = world_westerlands 
						region = world_dothraki_sea
					}	
				}				
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				trait = hunter
			}	

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_lion
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTRimprisoned.10" #snakes
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_snake
			}
			OR = {
				dynasty = 1 #martell
				capital_scope = { 
					OR = {
						region = world_dorne
						region = world_summer_sea
						region = world_jade_sea
					}	
				}				
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = deceitful
			}
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_snake_pit
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTSimprisoned.10" #disembowel
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_disembowel
			}
			OR = {
				AND = {
					OR = {
						trait = cruel
						trait = impaler
					}
					OR = {
						trait = wroth
						trait = lunatic
						trait = ruthless
					}
				}	
 				religion = aztec
	 			religion = aztec_reformed
				religion = sothoryos_rel
			}
			NOT = { is_nomadic = yes }
		}
		ai_chance = {
			factor = 25	
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_disembowelment
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTTimprisoned.10" #boiling
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_boiling
			}
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOT = { is_nomadic = yes }
		}
		ai_chance = {
			factor = 25	
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_boiling
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTUimprisoned.10" #sawing
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_sawing
			}
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOT = { is_nomadic = yes }
		}
		ai_chance = {
			factor = 25	
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_sawing
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTVimprisoned.10" #hunting
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_hunt
			}
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = gamer
				trait = hunter
			}
		}
		ai_chance = {
			factor = 50	

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_hunt
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTWimprisoned.10" #live burial
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_burial
			}
			OR = {
				trait = gardener
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				trait = gardener
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_live_burial
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTXimprisoned.10" #immurement
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_immurement
			}
			OR = {
				trait = architect
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOR = {
				trait = kind
				trait = honorable
			}
			NOR = {
				is_nomadic = yes
				is_tribal = yes
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				trait = architect
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_immurement
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTYimprisoned.10" #wine
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_wine
			}
			OR = {
				trait = hedonist
				trait = drunkard
			}
			NOR = {
				religion = aztec
				religion = aztec_reformed
				religion = sothoryos_rel
			}
			NOR = {
				is_nomadic = yes
				is_tribal = yes			
				trait = wildling
			}
			FROM = {
				OR = {
					is_lowborn = no
					trait = drunkard
				}
			}	
		}
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_wine
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTZimprisoned.10" #impale
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_impaling
			}
			trait = impaler
		}
		tooltip_info = impaler
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_impaling
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAAimprisoned.10" #tigers
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_tiger
			}
			OR = {
				trait = tiger
				capital_scope = {
					OR = {
						region = world_leng
						region = world_yi_ti
						region = world_qohor
					}	
				}			
			}	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 5
				trait = hunter
			}
			modifier = {
				factor = 3
				FROM = { trait = elephant }
			}
			modifier = {
				factor = 3
				trait = tiger
			}		

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_tiger
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTABimprisoned.10" #elephants
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_elephant
			}
			OR = {
				trait = elephant
				capital_scope = {
					OR = {
						region = world_volantis
						region = world_jade_sea
						region = world_ghiscar
					}	
				}			
			}	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 3
				FROM = { trait = tiger }
			}
			modifier = {
				factor = 3
				trait = elephant
			}		

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_elephants
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTACimprisoned.10" #bamboo
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_bamboo
			}
			capital_scope = { region = world_yi_ti }
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 25

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_bamboo
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTADimprisoned.10" #stoning
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_stoning
			}
			OR = {
				AND = {	
					FROM = {
						OR = {
							trait = homosexual
							NOT = { piety = 0 }
							is_any_kinslayer_trigger = yes
							trait = excommunicated
						}
					}	
					OR = {
						trait = radical
						is_theocracy = yes
					}
					NOT = { is_old_gods_religion_trigger = yes }
					NOT = { religion = rhllor }
					NOT = { religion = summer_rel }
					NOT = { religion = nath_pagan }
				}
				religion = aztec
				religion = aztec_reformed
				religion = sothoryos_rel
			}
		}
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 5
				trait = radical
			}
			
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_stoning
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAEimprisoned.10" #blood eagle
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_blood_eagle
			}
			OR = {
				religion_group = wildling_religion
				religion = old_ones
				religion = sothoryos_rel
			}
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				is_rival = FROM
			}	

			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_blood_eagle
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAFimprisoned.10" #horses
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_horses
			}
			OR = {
				culture = dothraki
				is_nomadic = yes
			}	
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 5
				is_rival = FROM
			}		
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_horses
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAGimprisoned.10" #back breaking
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_back_breaking
			}
			OR = {
				culture = dothraki
				is_nomadic = yes
			}	
			FROM = { is_lowborn = no }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}			
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_back_breaking
				killer = ROOT
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAHimprisoned.10" #wheel
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_wheel
			}
			OR = {
				trait = cruel
				trait = impaler
			}
			OR = {
				trait = wroth
				trait = lunatic
				trait = ruthless
			}
			NOR = {
				trait = kind
				trait = honorable
			}
			NOR = {
				is_nomadic = yes
				is_tribal = yes
			}
		}
		ai_chance = {
			factor = 25	
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_wheel
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAIimprisoned.10" #boars
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_boar
			}
			trait = hunter	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = hunter
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_boar
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAJimprisoned.10" #wolf
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_wolf
			}
			trait = wolf
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = wolf
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_wolf
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAKimprisoned.10" #shadowcat
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_shadowcat
			}
			trait = shadowcat	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = shadowcat
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_shadowcat
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTALimprisoned.10" #snowbear
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_snowbear
			}
			trait = snowbear
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = snowbear
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_snowbear
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAMimprisoned.10" #direwolf
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_direwolf
			}
			trait = direwolf
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = direwolf
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_direwolf
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTANimprisoned.10" #brownbear
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_brownbear
			}
			trait = brownbear	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = brownbear
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_brownbear
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAOimprisoned.10" #boar_trait
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_boar_trait
			}
			trait = boar	
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = boar
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_boar_trait
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
	option = {
		name = "EVTOPTAPimprisoned.10" #dog
		trigger = {
			OR = {
				ai = yes
				has_character_flag = execution_dog
			}
			trait = dog
			NOR = {
				trait = kind
				trait = honorable
			}
		}
		tooltip_info = dog
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				opinion = { who = FROM value = 20 }
				NOT = { trait = lunatic }
				NOT = { trait = ruthless }
			}
			modifier = {
				factor = 0
				FROM = { NOT = { age = 16 } }
				NOT = { trait = ruthless }
				NOT = { trait = lunatic }
			}
			modifier = {
				factor = 0.1
				FROM = { NOT = { age = 16 } }
			}
			modifier = {
				factor = 0.1
				trait = kind
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = impaler
			}
			modifier = {
				factor = 3
				trait = lunatic
			}
			modifier = {
				factor = 1.5
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = ruthless
			}
			modifier = {
				factor = 0.33
				trait = patient
			}
			modifier = {
				factor = 0.33
				trait = just
			}
			modifier = {
				factor = 0.33
				trait = honorable
			}		
		}
		hidden_tooltip = { FROM = { character_event = { id = 154 } } } #On executed	
		FROM = {
			death = {
				death_reason = death_execution_dog
				killer = ROOT
			}
		}
		add_fear_torture_execution_effect = yes
		prestige = 15
		piety = -15
		if = {
			limit = {
				NOT = { trait = impaler }
				NOT = { lifestyle_traits = 1 }
			}
			random = {
				chance = 10
				add_trait = impaler
			}
		}
		hidden_tooltip = { 
			if = {
				limit = { ai = no }
				character_event = { id = imprisoned.11 } #clear flags
			}
		}	
	}
}					
character_event = {  #clear flags
	id = imprisoned.11
	
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		clr_character_flag = execution_behead
		clr_character_flag = execution_hang
		clr_character_flag = execution_burn
		clr_character_flag = execution_sacrifice
		clr_character_flag = execution_dothraki_mutilate
		clr_character_flag = execution_flay
		clr_character_flag = execution_dragon
		clr_character_flag = execution_eat
		clr_character_flag = execution_moon_door
		clr_character_flag = execution_crucify
		clr_character_flag = execution_snu_snu
		clr_character_flag = execution_strangle
		clr_character_flag = execution_crush
		clr_character_flag = execution_ash
		clr_character_flag = execution_hdq
		clr_character_flag = execution_bear
		clr_character_flag = execution_lions
		clr_character_flag = execution_snake
		clr_character_flag = execution_disembowel
		clr_character_flag = execution_boiling
		clr_character_flag = execution_sawing
		clr_character_flag = execution_hunt
		clr_character_flag = execution_burial
		clr_character_flag = execution_immurement
		clr_character_flag = execution_wine
		clr_character_flag = execution_impaling
		clr_character_flag = execution_tiger
		clr_character_flag = execution_elephant
		clr_character_flag = execution_bamboo
		clr_character_flag = execution_stoning
		clr_character_flag = execution_blood_eagle
		clr_character_flag = execution_horses
		clr_character_flag = execution_back_breaking
		clr_character_flag = execution_wheel
		clr_character_flag = execution_boar
		clr_character_flag = execution_wolf
		clr_character_flag = execution_shadowcat
		clr_character_flag = execution_snowbear
		clr_character_flag = execution_direwolf
		clr_character_flag = execution_brownbear
		clr_character_flag = execution_boar_trait
		clr_character_flag = execution_dog
		
		clr_character_flag = execution_behead_REJECT
		clr_character_flag = execution_hang_REJECT
		clr_character_flag = execution_burn_REJECT
		clr_character_flag = execution_sacrifice_REJECT
		clr_character_flag = execution_dothraki_mutilate_REJECT
		clr_character_flag = execution_flay_REJECT
		clr_character_flag = execution_dragon_REJECT
		clr_character_flag = execution_eat_REJECT
		clr_character_flag = execution_moon_door_REJECT
		clr_character_flag = execution_crucify_REJECT
		clr_character_flag = execution_snu_snu_REJECT
		clr_character_flag = execution_strangle_REJECT
		clr_character_flag = execution_crush_REJECT
		clr_character_flag = execution_ash_REJECT
		clr_character_flag = execution_hdq_REJECT
		clr_character_flag = execution_bear_REJECT
		clr_character_flag = execution_lions_REJECT
		clr_character_flag = execution_snake_REJECT
		clr_character_flag = execution_disembowel_REJECT
		clr_character_flag = execution_boiling_REJECT
		clr_character_flag = execution_sawing_REJECT
		clr_character_flag = execution_hunt_REJECT
		clr_character_flag = execution_burial_REJECT
		clr_character_flag = execution_immurement_REJECT
		clr_character_flag = execution_wine_REJECT
		clr_character_flag = execution_impaling_REJECT
		clr_character_flag = execution_tiger_REJECT
		clr_character_flag = execution_elephant_REJECT
		clr_character_flag = execution_bamboo_REJECT
		clr_character_flag = execution_stoning_REJECT
		clr_character_flag = execution_blood_eagle_REJECT
		clr_character_flag = execution_horses_REJECT
		clr_character_flag = execution_back_breaking_REJECT
		clr_character_flag = execution_wheel_REJECT
		clr_character_flag = execution_boar_REJECT
		clr_character_flag = execution_wolf_REJECT
		clr_character_flag = execution_shadowcat_REJECT
		clr_character_flag = execution_snowbear_REJECT
		clr_character_flag = execution_direwolf_REJECT
		clr_character_flag = execution_brownbear_REJECT
		clr_character_flag = execution_boar_trait_REJECT
		clr_character_flag = execution_dog_REJECT
	}
}
	
#Escape from prison: Rope in flagon of wine
character_event = {
	id = 50000
	desc = "EVTDESC50000"
	picture = "GFX_evt_into_the_dungeon"
	
	min_age = 14
	capable_only = yes
	prisoner = yes
	
	trigger = {
		NOT = { trait = craven }
		#has_character_modifier = house_arrest
		is_ill = no
	}
	
	mean_time_to_happen = {
		months = 800 #60
		
		modifier = {
			factor = 4.0
			has_character_modifier = the_oubliette
		}		
		modifier = {
			factor = 0.25
			has_character_modifier = house_arrest
		}
		modifier = {
			factor = 0.9
			tier = BARON
		}
		modifier = {
			factor = 0.75
			tier = COUNT
		}
		modifier = {
			factor = 0.5
			tier = DUKE
		}
		modifier = {
			factor = 0.33
			tier = KING
		}
		modifier = {
			factor = 0.25
			tier = EMPEROR
		}			
		modifier = {
			factor = 0.5
			trait = deceitful
		}
		modifier = {
			factor = 0.75
			trait = ambitious
		}
		modifier = {
			factor = 0.75
			trait = diligent
		}
		modifier = {
			factor = 0.8
			intrigue = 10
		}
		modifier = {
			factor = 0.75
			intrigue = 15
		}
		modifier = {
			factor = 0.75
			intrigue = 20
		}
		modifier = {
			factor = 2.5
			NOT = { intrigue = 8 }
		}
		modifier = {
			factor = 2.5
			NOT = { intrigue = 5 }
		}
		modifier = {
			factor = 2.0
			trait = slothful
		}
		modifier = {
			factor = 2.0
			trait = content
		}
	}
	
	option = {
		name = "EVTOPTA50000"
		trigger = {
			NOT = { trait = brave }
			NOT = { trait = berserker }
		}
		if = {
			limit = {
				NOT = { trait = craven }
				NOT = { personality_traits = 6 }
			}
			random = {
				chance = 20
				add_trait = craven
				hidden_tooltip = { character_event = { id = 38257 } }
			}	
		}	
	}
	
	option = {
		name = "EVTOPTB50000" #Do I risk it? Yes!
		hidden_tooltip = {
			random_list = {
				50 = {
					character_event = {
						id = 50001
					}
				}
				50 = {
					host = {
						character_event = {
							id = 50002
						}
					}
				}
			}
		}
	}
}

#I'm free!
character_event = {
	id = 50001
	desc = "EVTDESC50001"
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50001"
		prestige = 10
		
		hidden_tooltip = {
			clr_character_flag = captured_in_battle
			clr_character_flag = lost_trial_by_combat
			clr_character_flag = imprisoned_for_relatives_crimes
			clr_character_flag = kidnapped_by_plot
			host = {
				character_event = {
					id = 50040
				}
			}
			if = {
				limit = {
					is_ruler = no
					employer = {
						ROOT = {
							host = {
								character = PREVPREV
							}
						}
					}
				}
				prisoner = no
				banish = yes
				break = yes
			}
		}	
		prisoner = no
	}
}

# The host is notified of the escape
character_event = {
	id = 50040
	desc = "EVTDESC50040"
	picture = GFX_evt_spymaster
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50040"
		prestige = -10
	}
}

#A prisoner tried to escape!
character_event = {
	id = 50002
	desc = "EVTDESC50002"
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	trigger = {
		FROM = {
			prisoner = yes
			host = { character = ROOT }
		}
	}
	
	option = {
		name = "EVTOPTA50002"
		ai_chance = { factor = 20 }
		
		trigger = {
			FROM = {
				has_character_modifier = house_arrest
			}
		}
		
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = 50003
				}
			}
		}		
	}
	
	option = {
		name = "EVTOPTB50002"
		ai_chance = { factor = 20 }
		
		trigger = {
			FROM = {
				NOT = { has_character_modifier = the_oubliette }
			}
		}		
		
		FROM = {
			hidden_tooltip = {
				remove_character_modifier = house_arrest
				remove_character_modifier = the_oubliette
				remove_character_modifier = the_dungeon
			}
			add_character_modifier = { 
				name = the_dungeon
				duration = -1
			}
			hidden_tooltip = {
				character_event = {
					id = 50003
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTC50002"
		ai_chance = { 
			factor = 20
			modifier = {
				factor = 0
				trait = kind
			}
			modifier = {
				factor = 2
				trait = envious
			}
			modifier = {
				factor = 5
				trait = wroth
			}
			modifier = {
				factor = 5
				trait = cruel
			}
		}
		
		FROM = {
			hidden_tooltip = {
				remove_character_modifier = house_arrest
				remove_character_modifier = the_dungeon
				remove_character_modifier = the_oubliette
			}
			add_character_modifier = { 
				name = the_oubliette
				duration = -1
			}
			hidden_tooltip = {
				character_event = {
					id = 50003
				}
			}
		}
		impaler_trait_chance_effect = yes
	}
	
	# option = {
		# name = "EVTOPTD50002"
		# ai_chance = { 
			# factor = 0
		# }
		
		# FROM = {
			# hidden_tooltip = { character_event = { id = 154 } }
			# death = { death_reason = death_execution }		
		# }
	# }	
}

#Failed to escape!
character_event = {
	id = 50003
	desc = "EVTDESC50003"
	picture = "GFX_evt_into_the_dungeon"
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50003"
		trigger = {
			has_character_modifier = house_arrest
		}
	}
	
	option = {
		name = "EVTOPTB50003"
		trigger = {
			has_character_modifier = the_oubliette
		}
		
		
		if = {
			limit = {
				NOT = {
					trait = stressed
					trait = depressed
				}
			}
			change_variable = { which = stress_var value = 10 }
			modify_stress_effect = yes
		}
	}
	
	option = {
		name = "EVTOPTC50003"
		trigger = {
			has_character_modifier = the_dungeon
		}
		
		
		random = {
			chance = 25
			add_trait = depressed
			hidden_tooltip = {
				character_event ={
					id = 38288 #Notify
				}
			}
		}
	}
}

###############################################

# Request better accomodations
character_event = {
	id = 50005
	desc = "EVTDESC50005"
	picture = "GFX_evt_into_the_dungeon"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	prisoner = yes
	
	trigger = {
		NOT = { has_character_modifier = the_oubliette }
		NOT = { has_character_modifier = house_arrest }
		OR = {
			NOT = { has_character_flag = asked_for_better_prison }
			had_character_flag = { flag = asked_for_better_prison days = 750 }
		}	
		OR = {
			NOT = { trait = slave }
			NOT = { dynasty = 0 }
		}
		#host = {
		#	religion = ROOT
		#}
	}
	
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 2
			is_ruler = yes
		}		
		modifier = {
			factor = 2
			trait = proud
		}
		modifier = {
			factor = 0.5
			trait = humble
		}
	}
	
	immediate = {
		clr_character_flag = asked_for_better_prison
		set_character_flag = asked_for_better_prison
	}
		
	option = {
		name = "EVTOPTA50005"
		ai_chance = { factor = 1 }
		hidden_tooltip = {
			host = {
				character_event = {
					id = 50006
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTD50005" #ask to release family as well
		ai_chance = { factor = 100 }
		trigger = {
			age = 15
			is_incapable = no
			host = {
				any_courtier = {
					prisoner = yes
					host = { character = PREVPREV }
					OR = {
						is_close_relative = ROOT
						AND = {
							NOT = { dynasty = 0 }
							dynasty = ROOT
						}
						is_friend = ROOT
						is_lover = ROOT
						AND = {
							liege = { character = ROOT }
							reverse_opinion = { who = ROOT value = 20 }
						}
					}
					NOT = { character = ROOT }
				}
			}
		}
		host = {
			any_courtier = {
				limit = {
					prisoner = yes
					host = { character = PREVPREV }
					OR = {
						is_close_relative = ROOT
						AND = {
							NOT = { dynasty = 0 }
							dynasty = ROOT
						}
						is_friend = ROOT
						is_lover = ROOT
						AND = {
							liege = { character = ROOT }
							reverse_opinion = { who = ROOT value = 20 }
						}
					}
					NOT = { character = ROOT }
				}
				clr_character_flag = asked_for_better_prison
				set_character_flag = asked_for_better_prison
				custom_tooltip = { text = TOOLTIPimprisoned.250 }
			}
		}
		hidden_tooltip = {
			host = {
				character_event = {
					id = imprisoned.250 days = 4
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTB50005" #I deserve this
		ai_chance = { factor = 0 }
	}
	
	option = {
		name = "EVTOPTC50005" #Appeal to the Triarchs
		trigger = {
			host = {
				government = triarch_merchant_republic_government
				any_realm_character = { has_character_flag = triarch NOT = { character = PREV } }
			}
			OR = {
				NOT = { has_character_flag = no_triarch_release }
				had_character_flag = { flag = no_triarch_release days = 750 }
			}
		}
		ai_chance = { factor = 100 }
		host = {
			any_realm_character = { 
				limit = { has_character_flag = triarch NOT = { character = PREV } }
				character_event = { id = volantis.105 tooltip = TOOLTIPvolantis.105 }
			}
		}
		hidden_tooltip = { character_event = { id = volantis.106 days = 2 } }
	}
}

#Host responds to the prisoner's request
character_event = {
	id = 50006
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	desc = { #highborn
		text = EVTDESC50006
		trigger = {
			FROM = { 
				age = 15
				NOT = { dynasty = 0 }
				is_incapable = no
			}
		}
	}
	desc = { #lowborn
		text = EVTDESC50006B
		trigger = {
			FROM = { 
				age = 15
				dynasty = 0
				is_incapable = no
			}
		}
	}
	desc = { #highborn child
		text = EVTDESC50006C
		trigger = {
			FROM = { 
				NOT = { age = 15 } 
				NOT = { dynasty = 0 }
			}
		}
	}
	desc = { #lowborn child
		text = EVTDESC50006D
		trigger = {
			FROM = { 
				NOT = { age = 15 } 
				dynasty = 0
			}
		}
	}
	desc = { #incapable
		text = EVTDESC50006E
		trigger = {
			FROM = { 
				age = 14
				is_incapable = yes
			}
		}
	}
	
	trigger = { 
		FROM = { 
			has_character_flag = asked_for_better_prison 
			prisoner = yes
			host = { character = ROOT }
			is_alive = yes
			NOT = { has_character_modifier = the_oubliette }
			NOT = { has_character_modifier = house_arrest }
		} 
	}
	
	option = {
		name = "EVTOPTA50006" # Denied
		ai_chance = { 
			factor = 34 
		}
	}
	
	option = {
		name = "EVTOPTB50006" # Granted
		ai_chance = { 
			factor = 45
			
			modifier = {
				factor = 0
				OR = {
					NOT = { opinion = { who = FROM value = -39 } }
					trait = cruel
					trait = lunatic
				}	
				NOT = { trait = honorable }
				NOT = { trait = just }
				NOT = { trait = kind }
			}
			modifier = {
				factor = 1.5
				FROM = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 1.25
				FROM = { dynasty = ROOT }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -99 } }
			}	
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 100 }
			}	
			modifier = {
				factor = 0.25
				trait = ruthless
			}
			modifier = {
				factor = 0.25
				trait = paranoid
			}
			modifier = {
				factor = 0.25
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 5
				trait = trusting
			}
			modifier = {
				factor = 5
				trait = honorable
			}			
		}
		piety = 10
		FROM = {
			tooltip = {
				add_character_modifier = { 
					name = house_arrest
					duration = -1
				}
			}	
			if = {
				limit = { NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_merciful } } }
				opinion = { 
					who = ROOT 
					modifier = opinion_merciful
					months = 24
				}
			}	
			ROOT = {
				any_courtier = {
					limit = {
						prisoner = yes
						is_close_relative = PREVPREV
						NOT = { age = 16 }
						host = { character = ROOT }	
						NOT = { has_character_modifier = house_arrest }
						NOT = { character = ROOT_FROM }
					}
					tooltip = {
						add_character_modifier = { 
							name = house_arrest
							duration = -1
						}
					}	
					if = {
						limit = { NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_merciful } } }
						opinion = { 
							who = ROOT 
							modifier = opinion_merciful
							months = 24
						}
					}	
				}
			}	
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = 50007
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTC50006" # The Oubliette!
		trigger = {
			FROM = {
				prisoner = yes
			}
			NOT = { culture = moon_clansman }
			NOT = { trait = wildling }
			NOT = { primary_title = { has_law = justice_voting_power_1 } } #council votes on this
			has_regent = no
		}
		ai_chance = { 
			factor = 10
			
			modifier = { #motives
				factor = 0
				NOR = {
					NOT = { opinion = { who = FROM value = -39 } }
					trait = cruel
					trait = lunatic
					trait = ruthless
					FROM = { any_claim = { holder_scope = { character = ROOT } } }
				}	
			}
			modifier = {
				factor = 0
				OR = {
					opinion = { who = FROM value = 0 }
					trait = kind
					trait = honorable
				}	
				NOT = { trait = lunatic }
				NOT = { trait = cruel }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -99 } }
			}	
			modifier = {
				factor = 3
				FROM = { any_claim = { holder_scope = { character = ROOT } } }
			}
			modifier = {
				factor = 2
				trait = envious
			}
			modifier = {
				factor = 3
				trait = ruthless
			}
			modifier = {
				factor = 3
				trait = paranoid
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = wroth
			}		
		}
		
		tooltip = {
			FROM = {	
				add_character_modifier = {
					name = the_oubliette
					duration = -1
				}
			}
		}
		FROM = { 
			opinion = { who = ROOT modifier = opinion_oubilette_me } 
			hidden_tooltip = {
				character_event = {
					id = 50008
				}
			}
		}	
		piety = -10
		if = {
			limit = {
				NOR = {
					trait = cruel
					trait = kind
				}
				NOT = { personality_traits = 6 }
			}
			random = {
				chance = 25
				add_trait = cruel
				hidden_tooltip = { character_event = { id = 38259 } }
			}
		}

		if = {
			limit = { trait = kind }
			random = { 
				chance = 50
				remove_trait = kind
				hidden_tooltip = {
					character_event = { id = 38307 }
				}
			}
			hidden_tooltip = {
				random_list = {
					30 = {
						change_variable = { which = stress_var value = 20 }
						modify_stress_effect = yes
					}
					10 = {
						add_trait = depressed
						hidden_tooltip = { character_event = { id = 38288 } }
					}
					60 = {
						#nothing
					}
				}
			}
		}
		impaler_trait_chance_effect = yes		
	}
	option = {
		name = "EVTOPTD50006"
		trigger = {
			FROM = {
				NOT = { trait = eunuch }
				is_female = no
			}
			culture = moon_clansman
			NOT = { primary_title = { has_law = justice_voting_power_1 } } #council votes on this
			has_regent = no
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 5
				trait = cruel
			}
			modifier = {
				factor = 5
				trait = wroth
			}
			modifier = {
				factor = 0
				trait = kind
			}
		}
		FROM = {
			add_trait = eunuch
			opinion = {
				modifier = opinion_castrated_me
				who = ROOT
			}
		}
		hidden_tooltip = { FROM = { character_event = { id = 50027 } } }

		if = {
			limit = { 
				NOT = { trait = cruel } 
				NOT = { personality_traits = 6 }
			}
			random = {
				chance = 25
				add_trait = cruel
				hidden_tooltip = {
					character_event = { id = 38259 }
				}
			}
		}
		if = {
			limit = {
				trait = kind
			}
			remove_trait = kind
		}
		
		set_character_flag = tortured
	}

	option = {
		name = "EVTOPTE50006" # Release for favor
		trigger = {
			has_dlc = "Zeus"
			NOT = {
				holds_favor_on = FROM
			}
			FROM = {
				prisoner = yes
				OR = {
					NOT = { trait = slave }
					liege = { character = ROOT }
				}
			}
			OR = {
				ai = no
				AND = {
					OR = {
						same_realm = FROM
						FROM = { is_ruler = yes }
					}
					opinion = { who = FROM value = -19 }
					NOT = { is_foe = FROM }
					NOT = { war_with = FROM }
					NOT = { any_current_enemy = { is_close_relative = FROM } }
					NOT = { trait = cruel }	
					NOT = { FROM = { any_claim = { holder_scope = { character = ROOT } } } }					
				}
			}
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 0.5
				trait = ruthless
			}
			modifier = {
				factor = 2
				trait = honorable
			}
			modifier = {
				factor = 0.5
				trait = paranoid
			}
			modifier = {
				factor = 2
				trait = trusting
			}
		}
		tooltip = {
			add_favor = FROM
			FROM = {
				prisoner = no
				opinion = {
					modifier = opinion_merciful
					who = ROOT
					months = 30
				}
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = 50009
				}
			}
		}
	}
}
#Host responds to the prisoner's request (mass request for family)
character_event = {
	id = imprisoned.250
	desc = EVTDESCimprisoned.250
	picture = GFX_evt_into_the_dungeon
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	trigger = { 
		FROM = { 
			has_character_flag = asked_for_better_prison 
			prisoner = yes
			host = { character = ROOT }
			is_alive = yes
			NOT = { has_character_modifier = the_oubliette }
			NOT = { has_character_modifier = house_arrest }
		} 
	}
	
	option = {
		name = {
			text = "EVTOPTAimprisoned.250" # Denied
			trigger = {
				NOT = { dynasty = FROM }
				FROM = { NOT = { dynasty = 0 } }
			}
		}
		name = {
			text = "EVTOPTAimprisoned.250B" # Denied
			trigger = {
				NAND = {
					NOT = { dynasty = FROM }
					FROM = { NOT = { dynasty = 0 } }
				}	
			}
		}		
		ai_chance = { 
			factor = 34 
		}
	}
	
	option = {
		name = "EVTOPTBimprisoned.250" # Granted
		ai_chance = { 
			factor = 45
			
			modifier = {
				factor = 0
				OR = {
					NOT = { opinion = { who = FROM value = -39 } }
					trait = cruel
					trait = lunatic
				}	
				NOT = { trait = honorable }
				NOT = { trait = just }
				NOT = { trait = kind }
			}
			modifier = {
				factor = 1.5
				FROM = { is_close_relative = ROOT }
			}
			modifier = {
				factor = 1.25
				FROM = { dynasty = ROOT }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 0.8
				NOT = { opinion = { who = FROM value = -99 } }
			}	
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 25 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 50 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 75 }
			}
			modifier = {
				factor = 1.25
				opinion = { who = FROM value = 100 }
			}	
			modifier = {
				factor = 0.25
				trait = ruthless
			}
			modifier = {
				factor = 0.25
				trait = paranoid
			}
			modifier = {
				factor = 0.25
				trait = wroth
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 5
				trait = trusting
			}
			modifier = {
				factor = 5
				trait = honorable
			}			
		}
		piety = 10
		FROM = {
			tooltip = {
				add_character_modifier = { 
					name = house_arrest
					duration = -1
				}
			}	
			if = {
				limit = { NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_merciful } } }
				opinion = { 
					who = ROOT 
					modifier = opinion_merciful
					months = 24
				}
			}	
			ROOT = {
				any_courtier = {
					limit = {
						prisoner = yes
						host = { character = ROOT }
						OR = {
							is_close_relative = ROOT_FROM
							AND = {
								NOT = { dynasty = 0 }
								dynasty = ROOT_FROM
							}
							is_friend = ROOT_FROM
							is_lover = ROOT_FROM
							AND = {
								liege = { character = ROOT_FROM }
								reverse_opinion = { who = ROOT_FROM value = 20 }
							}
						}
						NOT = { character = ROOT_FROM }
					}
					custom_tooltip = {
						text = TOOLTIPimprisoned.250A
						hidden_tooltip = {
							hidden_tooltip = {
								remove_character_modifier = house_arrest
								remove_character_modifier = the_dungeon
								remove_character_modifier = the_oubliette
							}
							add_character_modifier = { 
								name = house_arrest
								duration = -1
							}	
							if = {
								limit = { NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_merciful } } }
								opinion = { 
									who = ROOT 
									modifier = opinion_merciful
									months = 24
								}
							}
						}
					}	
				}
			}	
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = 50007
				}
			}
		}
	}
	
	option = {
		name = "EVTOPTCimprisoned.250" # The Oubliette!
		trigger = {
			FROM = {
				prisoner = yes
			}
			NOT = { culture = moon_clansman }
			NOT = { trait = wildling }
			NOT = { primary_title = { has_law = justice_voting_power_1 } } #council votes on this
			has_regent = no
		}
		ai_chance = { 
			factor = 10
			
			modifier = { #motives
				factor = 0
				NOR = {
					NOT = { opinion = { who = FROM value = -69 } }
					trait = cruel
					trait = lunatic
					trait = ruthless
				}	
			}
			modifier = {
				factor = 0
				OR = {
					opinion = { who = FROM value = 0 }
					trait = kind
					trait = honorable
				}	
				NOT = { trait = lunatic }
				NOT = { trait = cruel }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -25 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -50 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -75 } }
			}
			modifier = {
				factor = 1.25
				NOT = { opinion = { who = FROM value = -99 } }
			}	
			modifier = {
				factor = 3
				FROM = { any_claim = { holder_scope = { character = ROOT } } }
			}
			modifier = {
				factor = 2
				trait = envious
			}
			modifier = {
				factor = 3
				trait = ruthless
			}
			modifier = {
				factor = 3
				trait = paranoid
			}
			modifier = {
				factor = 3
				trait = cruel
			}
			modifier = {
				factor = 3
				trait = wroth
			}		
		}
		tooltip = {
			FROM = {	
				add_character_modifier = {
					name = the_oubliette
					duration = -1
				}
			}
		}
		FROM = { 
			opinion = { who = ROOT modifier = opinion_oubilette_me } 
			hidden_tooltip = {
				character_event = {
					id = 50008
				}
			}
		}	
		piety = -10
		if = {
			limit = {
				NOR = {
					trait = cruel
					trait = kind
				}
				NOT = { personality_traits = 6 }
			}
			random = {
				chance = 25
				add_trait = cruel
				hidden_tooltip = { character_event = { id = 38259 } }
			}
		}

		if = {
			limit = { trait = kind }
			random = { 
				chance = 50
				remove_trait = kind
				hidden_tooltip = {
					character_event = { id = 38307 }
				}
			}
			hidden_tooltip = {
				random_list = {
					30 = {
						change_variable = { which = stress_var value = 20 }
						modify_stress_effect = yes
					}
					10 = {
						add_trait = depressed
						hidden_tooltip = { character_event = { id = 38288 } }
					}
					60 = {
						#nothing
					}
				}
			}
		}
		impaler_trait_chance_effect = yes
	}
}

# House Arrest
character_event = {
	id = 50007
	desc = "EVTDESC50007"
	picture = "GFX_evt_into_the_dungeon"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50007"
		clr_character_flag = asked_for_better_prison
		hidden_tooltip = {
			remove_character_modifier = house_arrest
			remove_character_modifier = the_dungeon
			remove_character_modifier = the_oubliette
		}
		if = {
			limit = {
				prisoner = yes
			}
			add_character_modifier = { 
				name = house_arrest
				duration = -1
			}
			FROM = {
				any_courtier = {
					limit = {
						prisoner = yes
						is_close_relative = ROOT
						NOT = { age = 16 }
						host = { character = PREVPREV }	
						NOT = { has_character_modifier = house_arrest }
					}
					hidden_tooltip = {
						remove_character_modifier = house_arrest
						remove_character_modifier = the_oubliette
						remove_character_modifier = the_dungeon
					}
					add_character_modifier = { 
						name = house_arrest
						duration = -1
					}
				}
			}
		}
	}
}

# The Oubliette
character_event = { #from decision
	id = 50998
	
	is_triggered_only = yes
	hide_window = yes
	
	immediate = {
		FROM = { character_event = { id = 50008 } }
	}
	
	option = {
		name = OK
	}
}
character_event = {
	id = 50008
	desc = "EVTDESC50008"
	picture = "GFX_evt_into_the_dungeon"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50008"
		
		
		clr_character_flag = asked_for_better_prison	
		hidden_tooltip = {
			remove_character_modifier = house_arrest
			remove_character_modifier = the_dungeon
			remove_character_modifier = the_oubliette
			father = { 
				opinion = { who = FROM modifier = opinion_oubilette_kin } 
				if = {
					limit = { ai = no }
					character_event = { id = imprisoned.300 }
				}
			}
			mother = { 
				opinion = { who = FROM modifier = opinion_oubilette_kin } 
				if = {
					limit = { ai = no }
					character_event = { id = imprisoned.300 }
				}
			}
			any_dynasty_member = {
				limit = {
					is_close_relative = ROOT
					NOT = { is_parent_of = ROOT } 
				}
				opinion = { who = FROM modifier = opinion_oubilette_kin }
				if = {
					limit = { ai = no }
					character_event = { id = imprisoned.300 }
				}
			}
			any_spouse = {
				limit = { opinion = { who = ROOT value = -25 } }
				opinion = { who = FROM modifier = opinion_oubilette_kin }
			}
			any_spouse = {
				limit = { ai = no }
				character_event = { id = imprisoned.300 }
			}
			any_lover = { 
				limit = { 
					NOT = { is_parent_of = ROOT } 
					NAND = {
						dynasty = ROOT
						is_close_relative = ROOT
					}
					NOT = { is_married = ROOT }
				}
				opinion = { who = FROM modifier = opinion_oubilette_lover } 
				if = {
					limit = { ai = no }
					character_event = { id = imprisoned.300 }
				}
			}
			any_friend = { 
				limit = { 
					NOT = { is_parent_of = ROOT } 
					NAND = {
						dynasty = ROOT
						is_close_relative = ROOT
					}
					NOT = { is_married = ROOT }
					NOT = { is_lover = ROOT }
				}
				opinion = { who = FROM modifier = opinion_oubilette_friend } 
				if = {
					limit = { ai = no }
					character_event = { id = imprisoned.300 }
				}
			}
		}
		if = {
			limit = {
				prisoner = yes
			}
			add_character_modifier = {
				name = the_oubliette
				duration = -1
			}
		}
	}
}
character_event = { #inform relative
	id = imprisoned.300
	desc = "EVTDESCimprisoned.300"
	picture = "GFX_evt_into_the_dungeon"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTAimprisoned.300"
		FROM = {
			add_character_modifier = { 
				name = the_oubliette
				duration = -1
			}
		}
		FROMFROM = { tooltip = { show_portrait = yes } }
	}
}	
# Released for favor
character_event = {
	id = 50009
	desc = "EVTDESC50009"
	picture = "GFX_evt_into_the_dungeon"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50009"
		clr_character_flag = asked_for_better_prison
		hidden_tooltip = {
			remove_character_modifier = house_arrest
			remove_character_modifier = the_dungeon
			remove_character_modifier = the_oubliette
		}
		reverse_add_favor = FROM
		prisoner = no
		opinion = {
			modifier = opinion_released_prisoner
			who = FROM
			months = 30
		}
	}
}

###############################################

# Torture a prisoner!
character_event = {
	id = 50010
	desc = "EVTDESC50010"
	picture = "GFX_evt_torture"
	border = GFX_event_normal_frame_intrigue
	
	only_playable = yes
	min_age = 14
	prisoner = no
	capable_only = yes
	
	trigger = {
		NOT = { has_character_flag = no_torture } 
		NOT = { trait = kind }
		NOT = { trait = charitable }
		OR = {
			trait = envious
			trait = wroth
			trait = arbitrary
			trait = lunatic
			trait = possessed
			trait = paranoid
			trait = impaler
			trait = cruel
		}
		any_courtier = {
			age = 14
			prisoner = yes
			host = { character = ROOT }
			NOT = { has_character_modifier = house_arrest }
			OR = {
				NOT = { has_character_flag = tortured }
				had_character_flag = {
					flag = tortured
					days = 730
				}
			}			
		}
	}
	
	mean_time_to_happen = {
		months = 240
		modifier = {
			factor = 0.25
			trait = impaler
		}
		modifier = {
			factor = 0.5
			trait = possessed
		}
		modifier = {
			factor = 0.5
			trait = cruel
		}
		modifier = {
			factor = 0.75
			trait = paranoid
		}
		modifier = {
			factor = 3.0
			trait = slothful
		}
	}
	
	option = {
		name = EVTOPTA50010 # Resist my foul impulse
		trigger = {
			NOR = {
				trait = possessed
				trait = lunatic
				trait = cruel
				trait = impaler
				has_character_flag = demon_child_non_pagan
			}
		}
		piety = 10		
		set_character_flag = no_torture
	}
	
	option = {
		name = EVTOPTB50010 # Oil up the rack!
		if = {
			limit = { NOT = { religion = nath_pagan } }
			piety = -10
		}
		pacifists_lose_piety_effect = yes
		if = {
			limit = { trait = just }
			remove_trait = just
		}
		if = {
			limit = {
				NOT = { trait = cruel }
			}
			random = {
				chance = 33
				add_trait = cruel
				hidden_tooltip = {
					character_event = {
						id = 38259 #Notify Cruel
					}
				}				
			}	
		}		
		random_courtier = {
			limit = {
				age = 14
				prisoner = yes
				host = { character = ROOT }
				NOT = { has_character_modifier = house_arrest }
				OR = {
					NOT = { has_character_flag = tortured }
					had_character_flag = {
						flag = tortured
						days = 730
					}
				}					
			}
			random_list = {
				70 = {
					character_event = {
						id = 50011
						tooltip = "EVTTOOLTIP50011"
					}
				}
				15 = {
					character_event = {
						id = 50012
						tooltip = "EVTTOOLTIP50012"
					}
				}
				5 = {
					character_event = {
						id = 50013
						tooltip = "EVTTOOLTIP50013"
					}
				}
				5 = {
					character_event = {
						id = 50014
						tooltip = "EVTTOOLTIP50014"
					}
				}
			}
			opinion = {
				modifier = opinion_tortured_me
				who = ROOT
			}
			set_character_flag = tortured
		}
		impaler_trait_chance_effect = yes
	}
}

# Tortured
character_event = {
	id = 50011
	desc = "EVTDESC50011"
	picture = "GFX_evt_torture"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50011"
		
		
		add_character_modifier = { 
			name = tortured
			duration = 180
		}
		hidden_tooltip = {
			father = { 
				opinion = { who = FROM modifier = opinion_tortured_kin } 
				if = {
					limit = { ai = no }
					character_event = { id = 50053 }
				}
			}
			mother = { 
				opinion = { who = FROM modifier = opinion_tortured_kin } 
				if = {
					limit = { ai = no }
					character_event = { id = 50053 }
				}
			}
			any_dynasty_member = {
				limit = {
					is_close_relative = ROOT
					NOT = { is_parent_of = ROOT } 
				}
				opinion = { who = FROM modifier = opinion_tortured_kin }
				if = {
					limit = { ai = no }
					character_event = { id = 50053 }
				}
			}
			any_spouse = {
				limit = { opinion = { who = ROOT value = -25 } }
				opinion = { who = FROM modifier = opinion_tortured_kin }
			}
			any_spouse = {
				limit = { ai = no }
				character_event = { id = 50053 }
			}
			any_lover = { 
				limit = { 
					NOT = { is_parent_of = ROOT } 
					NAND = {
						dynasty = ROOT
						is_close_relative = ROOT
					}
					NOT = { is_married = ROOT }
				}
				opinion = { who = FROM modifier = opinion_tortured_lover } 
				if = {
					limit = { ai = no }
					character_event = { id = 50053 }
				}
			}
			any_friend = { 
				limit = { 
					NOT = { is_parent_of = ROOT } 
					NAND = {
						dynasty = ROOT
						is_close_relative = ROOT
					}
					NOT = { is_married = ROOT }
					NOT = { is_lover = ROOT }
				}
				opinion = { who = FROM modifier = opinion_tortured_friend } 
				if = {
					limit = { ai = no }
					character_event = { id = 50053 }
				}
			}
			
			liege = {
				if = {
					limit = { 
						ai = no 
						NOT = { is_parent_of = ROOT } 
						NAND = {
							dynasty = ROOT
							is_close_relative = ROOT
						}
						NOT = { is_married = ROOT }
						NOT = { is_lover = ROOT }
						NOT = { is_friend = ROOT }
					}
					character_event = { id = 50053 }
				}	
			}
			if = {
				limit = { is_ruler = yes }
				any_realm_lord = {
					limit = { 
						ai = no 
						NOT = { is_parent_of = ROOT } 
						NAND = {
							dynasty = ROOT
							is_close_relative = ROOT
						}
						NOT = { is_married = ROOT }
						NOT = { is_lover = ROOT }
						NOT = { is_friend = ROOT }
					}
					character_event = { id = 50053 }
				}
			}	
			if = {
				limit = { is_primary_heir = yes }
				any_heir_title = {
					limit = { is_primary_holder_title = yes }
					holder_scope = {
						any_realm_lord = {
							limit = { 
								ai = no 
								NOT = { is_parent_of = ROOT } 
								NAND = {
									dynasty = ROOT
									is_close_relative = ROOT
								}
								NOT = { is_married = ROOT }
								NOT = { is_lover = ROOT }
								NOT = { is_friend = ROOT }
								NOT = { is_liege_or_above = ROOT }
							}
							character_event = { id = 50053 }
						}
					}
				}	
			}
		}
	}
}

# Wounded
character_event = {
	id = 50012
	desc = "EVTDESC50012"
	picture = "GFX_evt_torture"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50012"
		maim_hand_effect = yes
	}
}

# Maimed
character_event = {
	id = 50013
	desc = "EVTDESC50013"
	picture = "GFX_evt_torture"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50013"
		add_maimed_trait_effect = yes
	}
}

# Killed
character_event = {
	id = 50014
	desc = "EVTDESC50014"
	picture = "GFX_evt_death"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
	
	immediate = {
		hidden_tooltip = { 
			FROM = { 
				set_character_flag = unjust_execution 
				#set_character_flag = special_execution_found
				save_event_target_as = executioner 
			}
			character_event = { id = 45342 } #Universal execution event	
		}
	}
	
	option = {
		name = "EVTOPTA50014"
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = 50015
				}
			}
		}
		death = {
			death_reason = death_execution_torture
			killer = FROM
		}
	}
}

# Host notified of death
character_event = {
	id = 50015
	desc = "EVTDESC50015"
	picture = "GFX_evt_death"
	border = GFX_event_normal_frame_intrigue
	
	is_triggered_only = yes
		
	option = {
		name = "EVTOPTA50015"
		piety = -25
	}
}


###############################################

# Ruler is notified of the capture of an enemy commander
character_event = {
	id = 50020
	title = captured_in_battle
	desc = "EVTDESC50020"
	picture = "GFX_evt_battle"
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes
	
	option = {
		name = {
			text = "EVTOPTA50020"
			trigger = { event_target:home_commander = { NOT = { is_rival = ROOT } } }
		}	
		name = {
			text = "EVTOPTB50020"
			trigger = { event_target:home_commander = { is_rival = ROOT } }
		}
		ai_chance = {
			factor = 50
		}
		FROM = {
			any_ward = {
				limit = { 
					at_location = ROOT 
					NOT = { trait = dragon }
				}
				imprison = ROOT
				set_character_flag = captured_in_battle
			}
			imprison = ROOT	
			set_character_flag = captured_in_battle		
		}
	}
}

#Prisoner receives event informing that enemy_liege has decided to sacrifice you to the gods instead of simply taking you prisoner. Shiiiit.
character_event = {
	id = 50021
	title = sacrificed_in_battle
	desc = "EVTDESC50021"
	picture = "GFX_evt_battle"
	border = GFX_event_normal_frame_war
	
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { multiplayer = yes } #insta-death in MP
			if = {
				limit = { FROM = { religion = rhllor } }
				death = {
					death_reason = death_sacrificed_rhllor
					killer = FROM
				}
			}
			else_if = {
				limit = { FROM = { religion = drowned_god } }
				death = {
					death_reason = death_sacrificed_drowned
					killer = FROM
				}
			}			
			else = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
	
	option = {
		name = {
			text = EVTOPTA50021 #I can't believe this is how it ends
			trigger = { NOT = { same_society_as = FROM } }
		}
		name = {
			text = EVTOPTB50021 #Noo..! For [society], why?
			trigger = { same_society_as = FROM }
		}
		tooltip = {
			FROM = {
				show_scope_change = no
				add_character_modifier = {
					name = sacrificed_prisoner
					duration = 1000
				}
			}
		}
		if = {
			limit = { multiplayer = no }
			if = {
				limit = { FROM = { religion = rhllor } }
				death = {
					death_reason = death_sacrificed_rhllor
					killer = FROM
				}
			}
			else_if = {
				limit = { FROM = { religion = drowned_god } }
				death = {
					death_reason = death_sacrificed_drowned
					killer = FROM
				}
			}			
			else = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}


###############################################

#Petition liege to release prisoner
character_event = {
	id = 50025
	desc = "EVTDESC50025"
	picture = GFX_evt_emissary
	
	only_rulers = yes
	min_age = 16
	capable_only = yes
	prisoner = no
	war = no
	in_command = no
	
	trigger = {	
		is_abroad = no
		independent = no
		liege = {
			num_of_prisoners = 1
			NOT = { character = ROOT }
			any_realm_lord = {
				prisoner = yes
				host = { 
					character = PREV
				}
				OR = {
					opinion = { who = ROOT value = 25 }
					reverse_opinion = { who = ROOT value = 25 }
					#has_opinion_modifier = { who = ROOT modifier = opinion_friend }
					#reverse_has_opinion_modifier = { who = ROOT modifier = opinion_friend }
				}
				NOT = {
					has_character_modifier = petition_release_prisoner_timer
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 50
	}
	
	option = {
		name = "EVTOPTA50025"
		liege = {
			random_realm_lord = {
				limit = {
					host = {
						character = PREV
					}
					prisoner = yes
					OR = {
						opinion = { who = ROOT value = 25 }
						reverse_opinion = { who = ROOT value = 25 }
					}
				}
				hidden_tooltip = {
					add_character_modifier = {
						name = petition_release_prisoner_timer
						duration = -1
						hidden = yes
					}
				}
			}
		}
		liege = {
			character_event = {
				id = 50026
				tooltip = "EVTTOOLTIP50026"
			}
		}
	}
	
	option = {
		name = "EVTOPTB50025"
		liege = {
			random_realm_lord = {
				limit = {
					host = {
						character = PREV
					}
					prisoner = yes
					OR = {
						opinion = { who = ROOT value = 25 }
						reverse_opinion = { who = ROOT value = 25 }
					}
				}
				opinion = {
					modifier = opinion_disgruntled
					who = ROOT
					years = 10
				}
			}
		}
	}
}

#Liege responds
character_event = {
	id = 50026
	desc = "EVTDESC50026"
	picture = GFX_evt_emissary
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50026"
		prestige = -50
		random_realm_lord = {
			limit = {
				prisoner = yes
				has_character_modifier = petition_release_prisoner_timer
			}
			prisoner = no
			clr_character_flag = captured_in_battle
			clr_character_flag = kidnapped_by_plot
			clr_character_flag = lost_trial_by_combat
			clr_character_flag = imprisoned_for_relatives_crimes
		}
		any_vassal = {
			limit = {
				prisoner = no
			}
			opinion = {
				modifier = opinion_released_prisoner
				who = ROOT
				months = 30
			}
		}
	}
	option = {
		name = "EVTOPTB50026"
		any_vassal = {
			limit = {
				liege = {
					character = ROOT
				}
			}
			opinion = {
				modifier = opinion_not_release_prisoner
				who = ROOT
				years = 10
			}
		}
	}
}

# Chopped off manhood, fed it to goats
character_event = {
	id = 50027
	desc = "EVTDESC50027"
	picture = GFX_evt_into_the_dungeon
	
	is_triggered_only = yes

	option = {
		name = "EVTOPTA50027"
		clr_character_flag = asked_for_better_prison
		add_trait = eunuch #better
	}
}
##Special executions
# Flay executed prisoner?
# character_event = { MERGED WITH UNIVERSAL EXECUTION DECISION
	# id = 509128
	# desc = "EVTDESC509128"
	# picture = "GFX_evt_torture"
	
	# is_triggered_only = yes
	
	# option = { # Yes
		# name = "EVTOPTA509128"
		# ai_chance = {
			# factor = 25
			# modifier = {
				# factor = 0
				# trait = kind
			# }
			# modifier = {
				# factor = 0.25
				# trait = just
			# }
			# modifier = {
				# factor = 0.25
				# trait = honorable
			# }
			# modifier = {
				# factor = 0.25
				# trait = patient
			# }
			# modifier = {
				# factor = 2
				# trait = wroth
			# }
			# modifier = {
				# factor = 2
				# trait = lunatic
			# }
			# modifier = {
				# factor = 2
				# trait = ruthless
			# }
			# modifier = {
				# factor = 2
				# trait = arbitrary
			# }
			# modifier = {
				# factor = 5
				# trait = cruel
			# }
			# modifier = {
				# factor = 5
				# trait = impaler
			# }
		# }
		# FROM = { 
			# add_trait = flayed
			# hidden_tooltip = { 
				# character_event = { id = 50029 }
				# if = {
					# limit = { age = 16 }
					# ROOT = { character_event = { id = 50028 } }
				# }	
				# if = {
					# limit = { NOT = { age = 16 } }
					# ROOT = { character_event = { id = 509028 } }
				# }						
			# }
		# }
		# piety = -25
		# prestige = 15
		# if = {
			# limit = { NOT = { trait = impaler } }
			# random = {
				# chance = 10
				# add_trait = impaler
			# }
		# }
		# if = {
			# limit = { 
				# NOT = { trait = cruel } 
				# NOT = { trait = kind } 
			# }
			# random = {
				# chance = 10
				# add_trait = cruel
				# hidden_tooltip = {
					# character_event ={
						# id = 38259 #Notify Cruel
					# }
				# }
			# }
		# }
		# if = {
			# limit = { trait = kind }
			# remove_trait = kind
		# }
	# }
	# option = { # No
		# name = "EVTOPTB509128"
		# ai_chance = {
			# factor = 75
		# }	
	# }
# }

# Jailer Flay
character_event = {
	id = 50028	
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = "EVTDESC50028"
		trigger = { FROMFROM = { is_adult = yes } }
	}	
	desc = {
		text = "EVTDESC5000028"
		trigger = { FROMFROM = { is_adult = no } }
	}
	
	option = {
		name = {
			text = "EVTOPTA50028"
			trigger = { FROMFROM = { is_adult = yes } }
		}	
		name = {
			text = "EVTOPTA5000028"
			trigger = { FROMFROM = { is_adult = no } }
		}
	}
	option = { #Keep the skin
		name = "EVTOPTB50028"
		trigger = {
			FROMFROM = {
				OR = {
					higher_tier_than = BARON
					father_even_if_dead = { higher_tier_than = BARON }
					mother_even_if_dead = { higher_tier_than = BARON }
					prestige = 250
				}
			}
		}	
		add_artifact = enemy_skin
		hidden_tooltip = {
			new_artifact = {
				set_name = [FromFrom.GetSkinArtifactName]
				set_description = [FromFrom.GetSkinArtifactDesc]
				set_original_owner = FROMFROM
			}
		}
		piety = -25
		prestige = 25
	}
}

# Prisoner Flay
character_event = {
	id = 50029
	desc = "EVTDESC50029"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes

	option = {
		name = "EVTOPTA50029"
		death = {
			death_reason = death_execution_flaying
			killer = FROM
		}
	}
}


# Jailer Drowned
character_event = {
	id = 50030
	desc = "EVTDESC50030"
	picture = "GFX_drowned"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = {
		name = "EVTOPTA50030"
	}
}

# Prisoner Drowned
character_event = {
	id = 50031
	desc = "EVTDESC50031"
	picture = "GFX_drowned"
	
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTA50031"
		death = {
			death_reason = death_sacrificed_drowned
			killer = FROM
		}
	}
}

#Moon Door?
character_event = {
	id = 50032
	desc = "EVTDESC50032"
	picture = "GFX_evt_moon_door"
	
	is_triggered_only = yes	
	show_from_from = yes
	
	option = {
		name = "EVTOPTA50032" 
	}
}

#Inform Moon doored
character_event = {
	id = 50033
	desc = "EVTDESC50033"
	picture = "GFX_evt_moon_door"
	
	is_triggered_only = yes	
	
	option = {
		name = "EVTOPTA50033"
		death = {
			death_reason = death_execution_moon_door
			killer = FROM
		}
	}
}

#Behead personally?
character_event = {
	id = 50034
	desc = "EVTDESC50034"
	picture = GFX_evt_beheading_2
	
	is_triggered_only = yes	
	show_from_from = yes
	
	option = {
		name = "EVTOPTA50034"  
		ai_chance = {
			factor = 50 
			modifier = {
				factor = 3
				trait = brave
			}
			modifier = {
				factor = 3
				trait = diligent
			}
			modifier = {
				factor = 3
				trait = wroth
			}
			modifier = {
				factor = 3
				trait = just
			}
			modifier = {
				factor = 3
				trait = radical
			}
			modifier = {
				factor = 3
				is_strong_trigger = yes
			}
			modifier = {
				factor = 5
				trait = honorable
			}
			modifier = {
				factor = 1.5
				has_character_flag = one_beheading
			}
			modifier = {
				factor = 2
				has_character_flag = experienced_beheader
			}
		}
		FROMFROM = { custom_tooltip = { text = EVTTOOLTIP50035 } }
		prestige = 20
		piety = 20
		if = {
			limit = { 	
				has_character_flag = one_beheading
				NOT = { has_character_flag = experienced_beheader }
				NOT = { trait = stressed } 
			}
			change_variable = { which = stress_var value = 25 }
			modify_stress_effect = yes
			random = {
				chance = 20
				set_character_flag = experienced_beheader
				custom_tooltip = { text = TOOLTIPexperienced_beheader }
			}
		}
		if = {
			limit = { 	
				NOT = { has_character_flag = one_beheading }
				NOT = { has_character_flag = experienced_beheader }
				NOT = { trait = stressed } 
			}
			change_variable = { which = stress_var value = 75 }
			modify_stress_effect = yes
			set_character_flag = one_beheading
		}	
	}
	
	option = {
		name = "EVTOPTB50034"  #No
		ai_chance = {
			factor = 50 
			modifier = {
				factor = 5
				trait = craven
			}
			modifier = {
				factor = 3
				trait = slothful
			}
			modifier = {
				factor = 3
				trait = patient
			}
			modifier = {
				factor = 3
				trait = arbitrary
			}
			modifier = {
				factor = 3
				is_weak_trigger = yes
			}
			modifier = {
				factor = 3
				trait = pragmatic
			}
			modifier = {
				factor = 3
				trait = stressed
			}
		}
		prestige = -40
		piety = -40
	}
}
# #Liege has tried to imprison me, rebel?
# character_event = {
	# id = 50050
	# desc = "EVTDESC50050"
	# picture = GFX_evt_burning_house
	
	# is_triggered_only = yes	
	
	# option = {
		# name = "EVTOPTA50050"  
		# ai_chance = {
			# factor = 95
			# modifier = {
				# factor = 0
				# tier = BARON
				# NOT = {
					# relative_power = {
						# who = FROM
						# power = 0.5
					# }
				# }	
			# }
			# modifier = {
				# factor = 0.5
				# NOT = {
					# relative_power = {
						# who = FROM
						# power = 0.1
					# }
				# }	
			# }
			# modifier = {
				# factor = 0.75
				# NOT = {
					# relative_power = {
						# who = FROM
						# power = 0.2
					# }
				# }	
			# }	
			# modifier = {
				# factor = 2
				# relative_power = {
					# who = FROM
					# power = 0.5
				# }
			# }			
			# modifier = {
				# factor = 2
				# trait = brave
			# }
			# modifier = {
				# factor = 2
				# trait = diligent
			# }
			# modifier = {
				# factor = 2
				# trait = wroth
			# }
			# modifier = {
				# factor = 2
				# trait = zealous
			# }
			# modifier = {
				# factor = 2
				# is_strong_trigger = yes
			# }
		# }
		# if = {
			# limit = { NOT = { liege = { character = FROM } } }
			# hidden_tooltip = { set_defacto_liege = FROM }
		# }	
		# if = {
			# limit = { FROM = { primary_title = { ROOT = { has_strong_claim = PREV } } } }
			# FROM = {
				# primary_title = {
					# reverse_war = {
						# target = ROOT
						# casus_belli = claim_on_liege
					# }
				# }	
			# }
		# }	
		# if = {
			# limit = { NOT = { FROM = { primary_title = { ROOT = { has_strong_claim = PREV } } } } }
			# FROM = {
				# reverse_war = {
					# target = ROOT
					# casus_belli = overthrow_ruler
				# }
			# }
		# }
	# }
	
	# option = {
		# name = "EVTOPTB50050"  #No
		# ai_chance = {
			# factor = 5 
			# modifier = {
				# factor = 0
				# relative_power = {
					# who = FROM
					# power = 0.75
				# }
			# }
			# modifier = {
				# factor = 5
				# trait = craven
			# }
			# modifier = {
				# factor = 3
				# trait = slothful
			# }
			# modifier = {
				# factor = 3
				# trait = patient
			# }
			# modifier = {
				# factor = 3
				# is_weak_trigger = yes
			# }
			# modifier = {
				# factor = 3
				# trait = stressed
			# }
		# }
		# imprison = FROM
	# }
# }

# Torture Jailor
character_event = {
	id = 50051
	picture = "GFX_evt_torture"	
	is_triggered_only = yes
	
	desc = {
		text = "EVT_DESC_50051" #normal
		trigger = {
			NOT = { has_character_flag = torture_confession }
		}
	}
	desc = {
		text = "EVT_DESC_50051B" #seeking confession
		trigger = {
			has_character_flag = torture_confession
		}
	}
	
	option = {
		name = "EVT_OPTA_50051"
		clr_character_flag = torture_confession
	}
}

# Torture Prisoner
character_event = {
	id = 50052
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = "EVT_DESC_50052" #Normal
		trigger = {
			NOT = { has_character_flag = torture_confession }
		}
	}
	desc = {
		text = "EVT_DESC_50052B" #Confess!
		trigger = {
			has_character_flag = torture_confession
		}
	}
	
	option = {
		name = {
			text = "EVT_OPTA_50052"
			trigger = {
				NOT = { has_character_flag = torture_confession }
			}
		}
		name = {
			text = "EVT_OPTA_50052B"
			trigger = {
				has_character_flag = torture_confession
			}
		}		
		trigger = {
			NAND = {
				has_character_flag = torture_confession
				trait = craven
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				NOR = { 
					trait = brave 
					trait = proud
					trait = lunatic
					trait = wroth
				}
			}
			modifier = {
				factor = 10
				trait = brave 
			}
			modifier = {
				factor = 5
				trait = proud
			}
			modifier = {
				factor = 5
				trait = lunatic
			}
			modifier = {
				factor = 3
				trait = wroth
			}
		}
		FROMFROM = { save_event_target_as = torturer }
		prisoner_torture_effect = yes
		FROMFROM = { clear_event_target = torturer }
		# hidden_tooltip = {
			# character_event = { id = 50053 days = 30 }
		# }
	}
	option = { #Confess!
		name = "EVT_OPTB_50052"
		trigger = {
			has_character_flag = torture_confession
		}	
		ai_chance = {
			factor = 100
			
			modifier = {
				factor = 5
				trait = humble
			}
			modifier = {
				factor = 3
				trait = patient
			}
		}
		FROMFROM = { save_event_target_as = torturer }
		prisoner_torture_confession_effect = yes
		FROMFROM = { clear_event_target = torturer }
		# hidden_tooltip = {
			# character_event = { id = 50053 days = 30 }
		# }
	}
}
character_event = { #Inform relatives
	id = 50053
	desc = "EVTDESC50053"
	picture = "GFX_evt_torture"
		
	is_triggered_only = yes
	
	trigger = { NOT = { character = FROMFROM } }
	
	option = {
		name = "EVTOPTA50053"
		FROMFROM = { tooltip = { show_portrait = yes } }
	}
}	
character_event = {  #Inform confession obtained
	id = imprisoned.200
	picture = "GFX_evt_torture"
		
	is_triggered_only = yes
	
	trigger = { FROM = { is_alive = yes } }
	
	desc = {
		text = EVTDESCimprisoned.200A #Plotting/sedition
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = scheming_bastard }
				has_opinion_modifier = { who = FROM modifier = opinion_blackmailed }
				has_opinion_modifier = { who = FROM modifier = opinion_charge_slanderer }
				has_opinion_modifier = { who = FROM modifier = opinion_conspired_against_me }
				has_opinion_modifier = { who = FROM modifier = opinion_conspired_against_child }
				has_opinion_modifier = { who = FROM modifier = declared_me_insane }
				has_opinion_modifier = { who = FROM modifier = devious_plotter }
				has_opinion_modifier = { who = FROM modifier = opinion_charge_infidel }
				has_opinion_modifier = { who = FROM modifier = attempted_kidnapping }
				has_opinion_modifier = { who = FROM modifier = opinion_prison_break }
				has_opinion_modifier = { who = FROM modifier = opinion_attempted_prison_break }
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.200B #Corruption
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = opinion_corrupt }
				has_opinion_modifier = { who = FROM modifier = abuse_of_office }
				has_opinion_modifier = { who = FROM modifier = opinion_ignored_my_judgement }
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.200C #Murder
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = suspect_of_murder }
				has_opinion_modifier = { who = FROM modifier = opinion_murderer }
				has_opinion_modifier = { who = FROM modifier = opinion_aborted_my_child }
				has_opinion_modifier = { who = FROM modifier = opinion_peasant_hunting }
				FROM = { is_any_kinslayer_trigger = yes }
				FROM = { trait = suspected_kinslayer }
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.200D #Illicit relations
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = opinion_unfaithful_wife }
				has_opinion_modifier = { who = FROM modifier = opinion_unfaithful_husband }
				has_opinion_modifier = { who = FROM modifier = opinion_charge_deviant }
				has_opinion_modifier = { who = FROM modifier = opinion_cuckolded_AGOT }
				has_opinion_modifier = { who = FROM modifier = opinion_unfaithful_consort }
				has_opinion_modifier = { who = FROM modifier = opinion_slept_with_my_consort }
			}	
		}
	}			
	desc = {
		text = EVTDESCimprisoned.200E #Denied inheritance
		trigger = {
			has_opinion_modifier = { who = FROM modifier = opinion_disinherited_me }	
		}
	}													
	desc = {
		text = EVTDESCimprisoned.200F #Treason
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = opinion_refused_prisoner_transfer }
				has_opinion_modifier = { who = FROM modifier = opinion_warden_no_defend }
			}
		}
	}				
	desc = {
		text = EVTDESCimprisoned.200G #Illegal slavery
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = opinion_slaver }
				has_opinion_modifier = { who = FROM modifier = opinion_illegal_slave_trader }
				has_opinion_modifier = { who = FROM modifier = opinion_enslaved_close_relative }
				has_opinion_modifier = { who = FROM modifier = opinion_enslaved_me }
			}
		}
	}			
	desc = {
		text = EVTDESCimprisoned.200H #Wrongful punishment/imprisonment
		trigger = {
			OR = {
				has_opinion_modifier = { who = FROM modifier = opinion_forced_upon_me }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_upon_kin }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_upon_lover }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_upon_friend }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_upon_spouse }
				has_opinion_modifier = { who = FROM modifier = opinion_assaulted_me }
				has_opinion_modifier = { who = FROM modifier = opinion_executed_realm_character }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_marriage }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_marriage_child }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_marriage_kin }
				has_opinion_modifier = { who = FROM modifier = opinion_forced_marriage_lover }
			}
		}
	}	
	desc = {
		text = EVTDESCimprisoned.200I #Blasphemy
		trigger = {
			OR = {
				is_theocracy = yes
				trait = radical
			}
			NOR = {
				religion = moonsingers
				religion = valyrian_rel
				religion = nath_pagan
				religion = pirate
				religion = corsair
			}
			FROM = {
				OR = {
					trait = excommunicated
					NOT = { piety = -150 }
				}
			}	
		}
	}

	option = {
		name = "EVTOPTAimprisoned.200"
		custom_tooltip = {
			text = TOOLTIPEVTOPTAimprisoned.200	
		}	
		piety = -30
		any_courtier = {
			limit = {
				is_ruler = no
				
				NOT = { trait = incapable }
				NOT = { character = FROM }
				NOT = { character = ROOT }
				age = 12
				OR = {
					trait = honorable
					trait = kind
				}
				NOR = {
					trait = ruthless
					trait = cruel
					trait = impaler
				}
			}
			opinion = { who = ROOT modifier = opinion_gained_torture_confession }
		}
		any_vassal = {
			limit = {		
				NOT = { trait = incapable }
				NOT = { character = FROM }
				NOT = { character = ROOT }
				age = 12
				OR = {
					trait = honorable
					trait = kind
				}
				NOR = {
					trait = ruthless
					trait = cruel
					trait = impaler
				}
			}
			opinion = { who = ROOT modifier = opinion_gained_torture_confession }
		}
		hidden_tooltip = {
			any_playable_ruler = {
				limit = { 
					ai = no 
					NOT = { character = ROOT }
					OR = {
						is_liege_or_above = ROOT
						is_liege_or_above = FROM
						is_liege_of = FROM
						is_liege_of = ROOT
						is_close_relative = FROM
						dynasty = FROM
						is_lover = FROM
						is_friend = FROM
					}
				}
				character_event = { id = imprisoned.201 }
			}
		}
	}
}	
character_event = {  #Inform others
	id = imprisoned.201
	picture = "GFX_evt_torture"
		
	is_triggered_only = yes
	
	desc = {
		text = EVTDESCimprisoned.201A #Plotting/sedition
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = scheming_bastard }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_blackmailed }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_charge_slanderer }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_conspired_against_me }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_conspired_against_child }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = declared_me_insane }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = devious_plotter }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_charge_infidel }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = attempted_kidnapping }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_prison_break }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_attempted_prison_break }
				}	
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.201B #Corruption
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_corrupt }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = abuse_of_office }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_ignored_my_judgement }
				}	
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.201C #Murder
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = suspect_of_murder }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_murderer }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_aborted_my_child }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_peasant_hunting }
					ROOT_FROMFROM = { is_any_kinslayer_trigger = yes }
					ROOT_FROMFROM = { trait = suspected_kinslayer }
				}	
			}	
		}
	}
	desc = {
		text = EVTDESCimprisoned.201D #Illicit relations
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_unfaithful_wife }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_unfaithful_husband }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_charge_deviant }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_cuckolded_AGOT }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_unfaithful_consort }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_slept_with_my_consort }
				}	
			}	
		}
	}			
	desc = {
		text = EVTDESCimprisoned.201E #Denied inheritance
		trigger = {
			FROM = { has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_disinherited_me } }	
		}
	}													
	desc = {
		text = EVTDESCimprisoned.201F #Treason
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_refused_prisoner_transfer }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_warden_no_defend }
				}
			}	
		}
	}				
	desc = {
		text = EVTDESCimprisoned.201G #Illegal slavery
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_slaver }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_illegal_slave_trader }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_enslaved_close_relative }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_enslaved_me }
				}
			}	
		}
	}			
	desc = {
		text = EVTDESCimprisoned.201H #Wrongful punishment/imprisonment
		trigger = {
			FROM = {
				OR = {
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_upon_me }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_upon_kin }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_upon_lover }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_upon_friend }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_upon_spouse }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_assaulted_me }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_executed_realm_character }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_marriage }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_marriage_child }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_marriage_kin }
					has_opinion_modifier = { who = ROOT_FROMFROM modifier = opinion_forced_marriage_lover }
				}
			}	
		}
	}	
	desc = {
		text = EVTDESCimprisoned.201I #Blasphemy
		trigger = {
			FROM = {
				OR = {
					is_theocracy = yes
					trait = radical
				}
				NOR = {
					religion = moonsingers
					religion = valyrian_rel
					religion = nath_pagan
					religion = pirate
					religion = corsair
				}
				ROOT_FROMFROM = {
					OR = {
						trait = excommunicated
						NOT = { piety = -150 }
					}
				}	
			}	
		}
	}

	option = {
		name = "EVTOPTAimprisoned.201"
		FROMFROM = { tooltip = { show_portrait = yes } }
	}
}
# # Prisoner Ready to torture
# character_event = {
	# id = 50053
	# desc = "EVT_DESC_50053"
	# picture = "GFX_evt_torture"
	
	# is_triggered_only = yes
	# hide_window = yes
	
	# option = {
		# name = "EVT_OPTA_50053"
		# clr_character_flag = tortured
	# }
# }

# Jailer Crucify
character_event = {
	id = 50054
	desc = "EVTDESC50054"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = { # Yes
		name = "EVTOPTA50054"
	}
}
# Prisoner Crucify
character_event = {
	id = 50055
	desc = "EVTDESC50055"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	
	option = { # Yes
		name = "EVTOPTA50055"
		death = {
			death_reason = death_execution_crucifixion
			killer = FROM
		}
	}
}

# Jailer Snu Snu
character_event = {
	id = 50056
	desc = "EVTDESC50056"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	show_from_from = yes
	
	option = { # Yes
		name = "EVTOPTA50056"
	}
}

# Prisoner Snu Snu
character_event = {
	id = 50057
	desc = "EVTDESC50057"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	
	option = { # Yes
		name = "EVTOPTA50057"
		death = {
			death_reason = death_execution_snu_snu
			killer = FROM
		}
	}
}

# Jailer Strangle
character_event = {
	id = 50058
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	show_from_from = yes
	
	desc = {
		text = EVTDESC50058 
		trigger = {
			FROMFROM = {
				NOR = {
					mother = { 
						NOT = { character = ROOT }
						host = { character = ROOT } 
					}
					father = { 
						NOT = { character = ROOT }
						host = { character = ROOT } 
					}
					any_child = { 
						NOT = { character = ROOT }
						host = { character = ROOT } 
					}
				}
			}
		}
	}
	desc = {
		text = EVTDESC50058B #In front of mother
		trigger = {
			FROMFROM = {
				mother = { 
					NOT = { character = ROOT }
					host = { character = ROOT } 
					NOR = {
						trait = blinded
						trait = blinded_age
					}
				}
			}
		}
	}
	desc = {
		text = EVTDESC50058C #In front of father
		trigger = {
			FROMFROM = {
				father = { 
					NOT = { character = ROOT }
					host = { character = ROOT } 
					NOR = {
						trait = blinded
						trait = blinded_age
					}
				}
			}
		}
	}
	desc = {
		text = EVTDESC50058D #In front of child
		trigger = {
			FROMFROM = {
				any_child = { 
					NOT = { character = ROOT }
					host = { character = ROOT } 
				}
			}
		}
	}
	desc = {
		text = EVTDESC50058E #In front of mother, blind
		trigger = {
			FROMFROM = {
				mother = { 
					NOT = { character = ROOT }
					host = { character = ROOT } 
					OR = {
						trait = blinded
						trait = blinded_age
					}
				}
			}
		}
	}
	desc = {
		text = EVTDESC50058F #In front of father, blind
		trigger = {
			FROMFROM = {
				father = { 
					NOT = { character = ROOT }
					host = { character = ROOT } 
					OR = {
						trait = blinded
						trait = blinded_age
					}
				}
			}
		}
	}
	
	option = { # Yes
		name = "EVTOPTA50058"
	}
}
# inform relative
character_event = {
	id = 50059
	desc = "EVTDESC50059"
	picture = "GFX_evt_torture"
	
	is_triggered_only = yes
	
	option = { 
		name = "EVTOPTA50059"
		if = { 
			limit = { 
				trait = stressed 
			}
			add_trait = depressed
		}
		if = { 
			limit = { 
				NOT = { trait = stressed }
				NOT = { trait = depressed }
			}
			change_variable = { which = stress_var value = 10 }
			modify_stress_effect = yes
		}
	}
}

# # Jailer Weirwood LOCALISATION IS MISSING
# character_event = {
	# id = 50060
	# desc = "EVTDESC50060"
	# picture = "GFX_evt_torture"
	
	# is_triggered_only = yes
	
	# option = { 
		# name = "EVTOPTB50060"
	# }
# }

# # Prisoner Weirwood
# character_event = {
	# id = 50061
	# desc = "EVTDESC50061"
	# picture = "GFX_evt_torture"
	
	# is_triggered_only = yes
	
	# option = { 
		# name = "EVTOPTA50061"
		# death = {
			# death_reason = death_sacrificed
			# killer = FROMFROM
		# }
	# }
# }
# Prisoner Force Married
character_event = {
	id = 50062
	desc = "EVT_DESC_50062"
	
	is_triggered_only = yes
	
	portrait = event_target:forced_spouse
	
	option = {
		name = "EVT_OPTA_50062"
		show_portrait = event_target:force_marriage_actor
		tooltip = {
			add_spouse = event_target:forced_spouse
			prisoner = no
		}
		hidden_tooltip = {
			father = { 
				opinion = { who = event_target:force_marriage_actor modifier = opinion_forced_marriage_child } 
				if = {
					limit = { ai = no }
					character_event = { id = 50063 }
				}
			}
			mother = { 
				opinion = { who = event_target:force_marriage_actor modifier = opinion_forced_marriage_child } 
				if = {
					limit = { ai = no }
					character_event = { id = 50063 }
				}
			}
			any_dynasty_member = {
				limit = {
					is_close_relative = PREV
					NOT = { is_parent_of = PREV } 
				}
				opinion = { who = event_target:force_marriage_actor modifier = opinion_forced_marriage_kin }
				if = {
					limit = { ai = no }
					character_event = { id = 50063 }
				}
			}
			any_lover = { 
				limit = { 
					NOT = { is_parent_of = PREV } 
					NAND = {
						dynasty = PREV
						is_close_relative = PREV
					}
					NOT = { is_married = PREV }
				}
				opinion = { who = event_target:force_marriage_actor modifier = opinion_forced_marriage_lover }
				if = {
					limit = { ai = no }
					character_event = { id = 50063 }
				}
			}
			any_friend = { 
				limit = { 
					NOT = { is_parent_of = PREV } 
					NAND = {
						dynasty = PREV
						is_close_relative = PREV
					}
					NOT = { is_married = PREV }
					NOT = { is_lover = PREV }
				}
				opinion = { who = event_target:force_marriage_actor modifier = opinion_forced_marriage_friend } 
				if = {
					limit = { ai = no }
					character_event = { id = 50063 }
				}
			}			
			liege = {
				if = {
					limit = { 
						ai = no 
						NOT = { is_parent_of = PREV } 
						NAND = {
							dynasty = PREV
							is_close_relative = PREV
						}
						NOT = { is_married = PREV }
						NOT = { is_lover = PREV }
						NOT = { is_friend = PREV }
					}
					character_event = { id = 50063 }
				}	
			}
			if = {
				limit = { is_ruler = yes }
				any_realm_lord = {
					limit = { 
						ai = no 
						NOT = { is_parent_of = PREV } 
						NAND = {
							dynasty = PREV
							is_close_relative = PREV
						}
						NOT = { is_married = PREV }
						NOT = { is_lover = PREV }
						NOT = { is_friend = PREV }
					}
					character_event = { id = 50063 }
				}
			}
		}
	}
}
character_event = { #Inform relatives
	id = 50063
	desc = "EVTDESC50063"
		
	is_triggered_only = yes
	
	trigger = {
		NOT = { character = FROM } 
		NOT = { character = event_target:force_marriage_actor } 
	}
	
	option = {
		name = "EVTOPTA50063"
		show_portrait = event_target:force_marriage_actor
		show_portrait = event_target:forced_spouse
		FROM = { 
			tooltip = { add_spouse = event_target:forced_spouse }
		}	
	}
}	