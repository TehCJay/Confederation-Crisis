namespace = regent

# Regency decisions regarding prisoners
# Pardoned prisoner
character_event = {
	id = regent.1000
	desc = "EVTDESCREGENT1000"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		# You now owe a favor if you didn't already
		if = {
			limit = {
				host = {
					regent = {
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
				}
			}
			host = {
				regent = {
					custom_tooltip = {
						text = "WILLOWEFAVOR"
						hidden_tooltip = { opinion = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
				}
			}
		}
		# If they owed you a favor, this satisfies it.
		if = {
			limit = { host = { regent = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } } } }
			host = {
				regent = {
					custom_tooltip = {
						text = "THEIRFAVORFULFILLED"
						hidden_tooltip = { letter_event = { id = favor.100 } }
					}
				}
			}
		}
		# Inform various people
		hidden_tooltip = {
			host = {
				character_event = { id = regent.1001 }
				regent = {
					reverse_opinion = { who = ROOT modifier = opinion_ordered_my_release }
					character_event = { id = regent.1002 }
				}
				any_realm_character = { character_event = { id = regent.1003 } }
			}
		}
		prisoner = no
		clr_character_flag = flag_prisoner_decision_target
	}
}
# Inform liege
character_event = {
	id = regent.1001
	desc = "EVTDESCREGENT1001"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform regent
character_event = {
	id = regent.1002
	desc = "EVTDESCREGENT1002"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform everyone else
character_event = {
	id = regent.1003
	desc = "EVTDESCREGENT1003"
	notification = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" } # Escape option
}
# Execution
character_event = {
	id = regent.1100
	desc = "EVTDESCREGENT1100"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		host = {
			regent = {
				tooltip = { ROOT = { death = { death_reason = death_execution killer = PREVPREV } } }
				hidden_tooltip = { character_event = { id = regent.1101 } }
			}
		}
	}
}
character_event = {
	id = regent.1101
	desc = "EVTDESCREGENT1101"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = {
			death = { death_reason = death_execution killer = ROOT }
			father = {
				if = {
					limit = { FROM = { is_female = yes } }
					opinion = { who = ROOT modifier = opinion_killed_my_daughter }
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = { who = ROOT modifier = opinion_killed_my_son }
				}
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			mother = {
				if = {
					limit = { FROM = { is_female = yes } }
					opinion = { who = ROOT modifier = opinion_killed_my_daughter }
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = { who = ROOT modifier = opinion_killed_my_son }
				}
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			any_sibling = {
				if = {
					limit = { FROM = { is_female = yes } }
					opinion = { who = ROOT modifier = opinion_killed_my_sister }
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = { who = ROOT modifier = opinion_killed_my_brother }
				}
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			any_child = {
				if = {
					limit = { FROM = { is_female = yes } }
					opinion = { who = ROOT modifier = opinion_killed_my_mother }
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = { who = ROOT modifier = opinion_killed_my_father }
				}
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			any_lover = {
				opinion = { who = ROOT modifier = opinion_killed_my_lover }
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			spouse = {
				if = {
					limit = { FROM = { is_female = yes } }
					opinion = { who = ROOT modifier = opinion_killed_my_wife }
				}
				if = {
					limit = { FROM = { is_female = no } }
					opinion = { who = ROOT modifier = opinion_killed_my_husband }
				}
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			any_friend = {
				opinion = { who = ROOT modifier = opinion_killed_my_friend }
				hidden_tooltip = { character_event = { id = regent.1102 } }
			}
			clr_character_flag = flag_prisoner_decision_target
		}
		hidden_tooltip = {
			liege = { character_event = { id = regent.1103 } }
			any_realm_character = { character_event = { id = regent.1104 } }
		}
	}
}
# Someone you care about was executed
character_event = {
	id = regent.1102
	desc = "EVTDESCREGENT1102"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1103
	desc = "EVTDESCREGENT1103"
	picture = GFX_evt_dungeon
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform everyone else
character_event = {
	id = regent.1104
	desc = "EVTDESCREGENT1104"
	notification = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" } # Escape option
}

# Regent takes a vassal under themselves
letter_event = {
	id = regent.1200
	desc = "EVTDESCREGENT1200"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		liege = {
			regent = {
				set_defacto_vassal = ROOT
				hidden_tooltip = { character_event = { id = regent.1201 } }
			}
		}
		clr_character_flag = flag_regent_decision_target
	}
}
character_event = {
	id = regent.1201
	desc = "EVTDESCREGENT1201"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		hidden_tooltip = {
			liege = {
				character_event = { id = regent.1202 }
				any_vassal = { character_event = { id = regent.1203 } }
			}
			any_realm_character = { character_event = { id = regent.1204 } }
		}
	}
}
# Inform liege
character_event = {
	id = regent.1202
	desc = "EVTDESCREGENT1202"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform vassals
character_event = {
	id = regent.1203
	desc = "EVTDESCREGENT1203"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform everyone else
character_event = {
	id = regent.1204
	desc = "EVTDESCREGENT1204"
	notification = yes
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" } # Escape option
}

# Council appointments
# Chancellor
letter_event = {
	id = regent.1300
	desc = "EVTDESCREGENT1300"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		tooltip = { give_job_title = job_chancellor }
		liege = {
			regent = {
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_chancellor }
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
					custom_tooltip = { text = "WEWILLOWEFAVOR" }
				}
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_chancellor }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
					}
					custom_tooltip = { text = "THEYWILLFULFILLFAVOR" }
				}
				hidden_tooltip = { letter_event = { id = regent.1301 } }
			}
			job_chancellor = { opinion = { who = ROOT modifier = opinion_stole_my_job_title } }
		}
		ai_chance = {
			factor = 50
			# Hold out for another council post
			modifier = {
				factor = 0.25
				OR = {
					has_ambition = obj_become_marshal
					has_ambition = obj_become_treasurer
					has_ambition = obj_become_spymaster
					has_ambition = obj_become_spiritual
				}
			}
			# Personality
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 2
				trait = extraverted
			}
			modifier = {
				factor = 0.5
				trait = introverted
			}
			# Don't want to spend the favor on this
			modifier = {
				factor = 0.25
				NOT = { has_ambition = obj_become_chancellor }
				liege = { regent = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_owes_me_a_favor } } }
			}
			# Better than the incumbent
			modifier = {
				factor = 4
				liege = { job_chancellor = { NOT = { diplomacy = ROOT } } }
				NOT = { trait = humble }
			}
			modifier = {
				factor = 4
				liege = { job_chancellor = { NOT = { diplomacy = ROOT } } }
				trait = proud
			}
			# Opinion of the incumbent
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_chancellor = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_chancellor = { NOT = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			# Opinion of the regent
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		hidden_tooltip = { liege = { regent = { letter_event = { id = regent.1302 } } } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_ambition = obj_become_chancellor
			}
		}
	}
}
letter_event = {
	id = regent.1301
	desc = "EVTDESCREGENT1301"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		prestige = -25
		liege = {
			job_chancellor = {
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				if = {
					limit = { has_opinion_modifier = { who = ROOT modifier = opinion_favor_ongoing_council } }
					character_event = { id = favor.200 tooltip = "EVTTOOLTIPFAVOR200" }
				}
				hidden_tooltip = { character_event = { id = regent.1303 } }
			}
			hidden_tooltip = { character_event = { id = regent.1304 } }
		}
		FROM = {
			give_job_title = job_chancellor
			opinion = { who = ROOT modifier = opinion_put_me_on_council }
			if = {
				limit = { has_ambition = obj_become_chancellor }
				opinion = { who = ROOT modifier = opinion_ambition_fulfilled months = 24 }
			}
			if = {
				limit = {
					has_ambition = obj_become_chancellor
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
				}
				custom_tooltip = {
					text = "THEYWILLOWEFAVOR"
					hidden_tooltip = {
						reverse_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
						reverse_opinion = { who = ROOT modifier = opinion_favor_type_political }
					}
				}
			}
			if = {
				limit = {
					has_ambition = obj_become_chancellor
					has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
				}
				custom_tooltip = {
					text = "WEFULFILLFAVOR"
					remove_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
					opinion = { who = ROOT modifier = opinion_favor_ongoing_council }
					letter_event = { id = favor.100 }
				}
			}
		}
		clr_character_flag = flag_appointing_liege_councillor
		clr_character_flag = flag_appointed_liege_chancellor
		set_character_flag = flag_appointed_liege_chancellor
	}
}

letter_event = {
	id = regent.1302
	desc = "EVTDESCREGENT1302"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = { opinion = { who = ROOT modifier = opinion_recent_request } }
		clr_character_flag = flag_appointing_liege_councillor
	}
}
# Inform previous chancellor
character_event = {
	id = regent.1303
	desc = "EVTDESCREGENT1303"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1304
	desc = "EVTDESCREGENT1304"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Marshal
letter_event = {
	id = regent.1400
	desc = "EVTDESCREGENT1400"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		tooltip = { give_job_title = job_marshal }
		liege = {
			regent = {
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_marshal }
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
					custom_tooltip = { text = "WEWILLOWEFAVOR" }
				}
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_marshal }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
					}
					custom_tooltip = { text = "THEYWILLFULFILLFAVOR" }
				}
				hidden_tooltip = { letter_event = { id = regent.1401 } }
			}
			job_marshal = { opinion = { who = ROOT modifier = opinion_stole_my_job_title } }
		}
		ai_chance = {
			factor = 50
			# Hold out for another council post
			modifier = {
				factor = 0.25
				OR = {
					has_ambition = obj_become_marshal
					has_ambition = obj_become_treasurer
					has_ambition = obj_become_spymaster
					has_ambition = obj_become_spiritual
				}
			}
			# Personality
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 2
				trait = extraverted
			}
			modifier = {
				factor = 0.5
				trait = introverted
			}
			# Don't want to spend the favor on this
			modifier = {
				factor = 0.25
				NOT = { has_ambition = obj_become_marshal }
				liege = { regent = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_owes_me_a_favor } } }
			}
			# Better than the incumbent
			modifier = {
				factor = 4
				liege = { job_marshal = { NOT = { martial = ROOT } } }
				NOT = { trait = humble }
			}
			modifier = {
				factor = 4
				liege = { job_marshal = { NOT = { martial = ROOT } } }
				trait = proud
			}
			# Opinion of the incumbent
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_marshal = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_marshal = { NOT = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			# Opinion of the regent
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		hidden_tooltip = { liege = { regent = { letter_event = { id = regent.1402 } } } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_ambition = obj_become_marshal
			}
		}
	}
}
letter_event = {
	id = regent.1401
	desc = "EVTDESCREGENT1401"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		prestige = -25
		liege = {
			job_marshal = {
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				if = {
					limit = { has_opinion_modifier = { who = ROOT modifier = opinion_favor_ongoing_council } }
					character_event = { id = favor.200 tooltip = "EVTTOOLTIPFAVOR200" }
				}
				hidden_tooltip = { character_event = { id = regent.1403 } }
			}
			hidden_tooltip = { character_event = { id = regent.1404 } }
		}
		FROM = {
			give_job_title = job_marshal
			opinion = { who = ROOT modifier = opinion_put_me_on_council }
			if = {
				limit = { has_ambition = obj_become_marshal }
				opinion = { who = ROOT modifier = opinion_ambition_fulfilled months = 24 }
			}
			if = {
				limit = {
					has_ambition = obj_become_marshal
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
				}
				custom_tooltip = {
					text = "THEYWILLOWEFAVOR"
					hidden_tooltip = {
						reverse_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
						reverse_opinion = { who = ROOT modifier = opinion_favor_type_political }
					}
				}
			}
			if = {
				limit = {
					has_ambition = obj_become_marshal
					has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
				}
				custom_tooltip = {
					text = "WEFULFILLFAVOR"
					remove_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
					opinion = { who = ROOT modifier = opinion_favor_ongoing_council }
					letter_event = { id = favor.100 }
				}
			}
		}
		clr_character_flag = flag_appointing_liege_councillor
		clr_character_flag = flag_appointed_liege_marshal
		set_character_flag = flag_appointed_liege_marshal
	}
}

letter_event = {
	id = regent.1402
	desc = "EVTDESCREGENT1402"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = { opinion = { who = ROOT modifier = opinion_recent_request } }
		clr_character_flag = flag_appointing_liege_councillor
	}
}
# Inform previous marshal
character_event = {
	id = regent.1403
	desc = "EVTDESCREGENT1403"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1404
	desc = "EVTDESCREGENT1404"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Treasurer
letter_event = {
	id = regent.1500
	desc = "EVTDESCREGENT1500"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		tooltip = { give_job_title = job_treasurer }
		liege = {
			regent = {
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_treasurer }
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
					custom_tooltip = { text = "WEWILLOWEFAVOR" }
				}
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_treasurer }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
					}
					custom_tooltip = { text = "THEYWILLFULFILLFAVOR" }
				}
				hidden_tooltip = { letter_event = { id = regent.1501 } }
			}
			job_treasurer = { opinion = { who = ROOT modifier = opinion_stole_my_job_title } }
		}
		ai_chance = {
			factor = 50
			# Hold out for another council post
			modifier = {
				factor = 0.25
				OR = {
					has_ambition = obj_become_marshal
					has_ambition = obj_become_treasurer
					has_ambition = obj_become_spymaster
					has_ambition = obj_become_spiritual
				}
			}
			# Personality
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 2
				trait = extraverted
			}
			modifier = {
				factor = 0.5
				trait = introverted
			}
			# Don't want to spend the favor on this
			modifier = {
				factor = 0.25
				NOT = { has_ambition = obj_become_treasurer }
				liege = { regent = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_owes_me_a_favor } } }
			}
			# Better than the incumbent
			modifier = {
				factor = 4
				liege = { job_treasurer = { NOT = { stewardship = ROOT } } }
				NOT = { trait = humble }
			}
			modifier = {
				factor = 4
				liege = { job_treasurer = { NOT = { stewardship = ROOT } } }
				trait = proud
			}
			# Opinion of the incumbent
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_treasurer = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_treasurer = { NOT = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			# Opinion of the regent
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		hidden_tooltip = { liege = { regent = { letter_event = { id = regent.1502 } } } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_ambition = obj_become_treasurer
			}
		}
	}
}
letter_event = {
	id = regent.1501
	desc = "EVTDESCREGENT1501"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		prestige = -25
		liege = {
			job_treasurer = {
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				if = {
					limit = { has_opinion_modifier = { who = ROOT modifier = opinion_favor_ongoing_council } }
					character_event = { id = favor.200 tooltip = "EVTTOOLTIPFAVOR200" }
				}
				hidden_tooltip = { character_event = { id = regent.1503 } }
			}
			hidden_tooltip = { character_event = { id = regent.1504 } }
		}
		FROM = {
			give_job_title = job_treasurer
			opinion = { who = ROOT modifier = opinion_put_me_on_council }
			if = {
				limit = { has_ambition = obj_become_treasurer }
				opinion = { who = ROOT modifier = opinion_ambition_fulfilled months = 24 }
			}
			if = {
				limit = {
					has_ambition = obj_become_treasurer
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
				}
				custom_tooltip = {
					text = "THEYWILLOWEFAVOR"
					hidden_tooltip = {
						reverse_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
						reverse_opinion = { who = ROOT modifier = opinion_favor_type_political }
					}
				}
			}
			if = {
				limit = {
					has_ambition = obj_become_treasurer
					has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
				}
				custom_tooltip = {
					text = "WEFULFILLFAVOR"
					remove_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
					opinion = { who = ROOT modifier = opinion_favor_ongoing_council }
					letter_event = { id = favor.100 }
				}
			}
		}
		clr_character_flag = flag_appointing_liege_councillor
		clr_character_flag = flag_appointed_liege_treasurer
		set_character_flag = flag_appointed_liege_treasurer
	}
}

letter_event = {
	id = regent.1502
	desc = "EVTDESCREGENT1502"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = { opinion = { who = ROOT modifier = opinion_recent_request } }
		clr_character_flag = flag_appointing_liege_councillor
	}
}
# Inform previous treasurer
character_event = {
	id = regent.1503
	desc = "EVTDESCREGENT1503"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1504
	desc = "EVTDESCREGENT1504"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Spymaster
letter_event = {
	id = regent.1600
	desc = "EVTDESCREGENT1600"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		tooltip = { give_job_title = job_spymaster }
		liege = {
			regent = {
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_spymaster }
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
					custom_tooltip = { text = "WEWILLOWEFAVOR" }
				}
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_spymaster }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
					}
					custom_tooltip = { text = "THEYWILLFULFILLFAVOR" }
				}
				hidden_tooltip = { letter_event = { id = regent.1601 } }
			}
			job_spymaster = { opinion = { who = ROOT modifier = opinion_stole_my_job_title } }
		}
		ai_chance = {
			factor = 50
			# Hold out for another council post
			modifier = {
				factor = 0.25
				OR = {
					has_ambition = obj_become_marshal
					has_ambition = obj_become_treasurer
					has_ambition = obj_become_spymaster
					has_ambition = obj_become_spiritual
				}
			}
			# Personality
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 2
				trait = extraverted
			}
			modifier = {
				factor = 0.5
				trait = introverted
			}
			# Don't want to spend the favor on this
			modifier = {
				factor = 0.25
				NOT = { has_ambition = obj_become_spymaster }
				liege = { regent = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_owes_me_a_favor } } }
			}
			# Better than the incumbent
			modifier = {
				factor = 4
				liege = { job_spymaster = { NOT = { intrigue = ROOT } } }
				NOT = { trait = humble }
			}
			modifier = {
				factor = 4
				liege = { job_spymaster = { NOT = { intrigue = ROOT } } }
				trait = proud
			}
			# Opinion of the incumbent
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spymaster = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spymaster = { NOT = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			# Opinion of the regent
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		hidden_tooltip = { liege = { regent = { letter_event = { id = regent.1602 } } } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_ambition = obj_become_spymaster
			}
		}
	}
}
letter_event = {
	id = regent.1601
	desc = "EVTDESCREGENT1601"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		prestige = -25
		liege = {
			job_spymaster = {
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				if = {
					limit = { has_opinion_modifier = { who = ROOT modifier = opinion_favor_ongoing_council } }
					character_event = { id = favor.200 tooltip = "EVTTOOLTIPFAVOR200" }
				}
				hidden_tooltip = { character_event = { id = regent.1603 } }
			}
			hidden_tooltip = { character_event = { id = regent.1604 } }
		}
		FROM = {
			give_job_title = job_spymaster
			opinion = { who = ROOT modifier = opinion_put_me_on_council }
			if = {
				limit = { has_ambition = obj_become_spymaster }
				opinion = { who = ROOT modifier = opinion_ambition_fulfilled months = 24 }
			}
			if = {
				limit = {
					has_ambition = obj_become_spymaster
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
				}
				custom_tooltip = {
					text = "THEYWILLOWEFAVOR"
					hidden_tooltip = {
						reverse_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
						reverse_opinion = { who = ROOT modifier = opinion_favor_type_political }
					}
				}
			}
			if = {
				limit = {
					has_ambition = obj_become_spymaster
					has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
				}
				custom_tooltip = {
					text = "WEFULFILLFAVOR"
					remove_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
					opinion = { who = ROOT modifier = opinion_favor_ongoing_council }
					letter_event = { id = favor.100 }
				}
			}
		}
		clr_character_flag = flag_appointing_liege_councillor
		clr_character_flag = flag_appointed_liege_spymaster
		set_character_flag = flag_appointed_liege_spymaster
	}
}

letter_event = {
	id = regent.1602
	desc = "EVTDESCREGENT1602"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = { opinion = { who = ROOT modifier = opinion_recent_request } }
		clr_character_flag = flag_appointing_liege_councillor
	}
}
# Inform previous spymaster
character_event = {
	id = regent.1603
	desc = "EVTDESCREGENT1603"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1604
	desc = "EVTDESCREGENT1604"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Scientist
letter_event = {
	id = regent.1700
	desc = "EVTDESCREGENT1700"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTACCEPT"
		tooltip = { give_job_title = job_spiritual }
		liege = {
			regent = {
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_spiritual }
						NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
						NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					}
					custom_tooltip = { text = "WEWILLOWEFAVOR" }
				}
				if = {
					limit = {
						ROOT = { has_ambition = obj_become_spiritual }
						reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
					}
					custom_tooltip = { text = "THEYWILLFULFILLFAVOR" }
				}
				hidden_tooltip = { letter_event = { id = regent.1701 } }
			}
			job_spiritual = { opinion = { who = ROOT modifier = opinion_stole_my_job_title } }
		}
		ai_chance = {
			factor = 50
			# Hold out for another council post
			modifier = {
				factor = 0.25
				OR = {
					has_ambition = obj_become_marshal
					has_ambition = obj_become_treasurer
					has_ambition = obj_become_spymaster
					has_ambition = obj_become_spiritual
				}
			}
			# Personality
			modifier = {
				factor = 5
				trait = ambitious
			}
			modifier = {
				factor = 0.2
				trait = content
			}
			modifier = {
				factor = 2
				trait = extraverted
			}
			modifier = {
				factor = 0.5
				trait = introverted
			}
			# Don't want to spend the favor on this
			modifier = {
				factor = 0.25
				NOT = { has_ambition = obj_become_spiritual }
				liege = { regent = { reverse_has_opinion_modifier = { who = FROM modifier = opinion_owes_me_a_favor } } }
			}
			# Better than the incumbent
			modifier = {
				factor = 4
				liege = { job_spiritual = { NOT = { learning = ROOT } } }
				NOT = { trait = humble }
			}
			modifier = {
				factor = 4
				liege = { job_spiritual = { NOT = { learning = ROOT } } }
				trait = proud
			}
			# Opinion of the incumbent
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 0.8
				liege = { job_spiritual = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 1.25
				liege = { job_spiritual = { NOT = { reverse_opinion = { who = ROOT value = -99 } } } }
			}
			# Opinion of the regent
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 100 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 90 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 80 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 70 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 60 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 50 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 40 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 30 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 20 } } }
			}
			modifier = {
				factor = 1.25
				liege = { regent = { reverse_opinion = { who = ROOT value = 10 } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -9 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -19 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -29 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -39 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -49 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -59 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -69 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -79 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -89 } } } }
			}
			modifier = {
				factor = 0.8
				liege = { regent = { NOT = {  reverse_opinion = { who = ROOT value = -99 } } } }
			}
		}
	}
	option = {
		name = "EVTOPTREFUSE"
		hidden_tooltip = { liege = { regent = { letter_event = { id = regent.1702 } } } }
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				has_ambition = obj_become_spiritual
			}
		}
	}
}
letter_event = {
	id = regent.1701
	desc = "EVTDESCREGENT1701"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		prestige = -25
		liege = {
			job_spiritual = {
				opinion = { who = ROOT modifier = opinion_fired_from_council }
				if = {
					limit = { has_opinion_modifier = { who = ROOT modifier = opinion_favor_ongoing_council } }
					character_event = { id = favor.200 tooltip = "EVTTOOLTIPFAVOR200" }
				}
				hidden_tooltip = { character_event = { id = regent.1703 } }
			}
			hidden_tooltip = { character_event = { id = regent.1704 } }
		}
		FROM = {
			give_job_title = job_spiritual
			opinion = { who = ROOT modifier = opinion_put_me_on_council }
			if = {
				limit = { has_ambition = obj_become_spiritual }
				opinion = { who = ROOT modifier = opinion_ambition_fulfilled months = 24 }
			}
			if = {
				limit = {
					has_ambition = obj_become_spiritual
					NOT = { has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
					NOT = { reverse_has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor } }
				}
				custom_tooltip = {
					text = "THEYWILLOWEFAVOR"
					hidden_tooltip = {
						reverse_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
						reverse_opinion = { who = ROOT modifier = opinion_favor_type_political }
					}
				}
			}
			if = {
				limit = {
					has_ambition = obj_become_spiritual
					has_opinion_modifier = { who = ROOT modifier = opinion_owes_me_a_favor }
				}
				custom_tooltip = {
					text = "WEFULFILLFAVOR"
					remove_opinion = { who = ROOT modifier = opinion_owes_me_a_favor }
					opinion = { who = ROOT modifier = opinion_favor_ongoing_council }
					letter_event = { id = favor.100 }
				}
			}
		}
		clr_character_flag = flag_appointing_liege_councillor
		clr_character_flag = flag_appointed_liege_spiritual
		set_character_flag = flag_appointed_liege_spiritual
	}
}

letter_event = {
	id = regent.1702
	desc = "EVTDESCREGENT1702"
	is_triggered_only = yes
	
	option = {
		name = "EVTOPTCONFIRM"
		FROM = { opinion = { who = ROOT modifier = opinion_recent_request } }
		clr_character_flag = flag_appointing_liege_councillor
	}
}
# Inform previous spiritual
character_event = {
	id = regent.1703
	desc = "EVTDESCREGENT1703"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}
# Inform liege
character_event = {
	id = regent.1704
	desc = "EVTDESCREGENT1704"
	picture = GFX_evt_council
	is_triggered_only = yes
	
	option = { name = "EVTOPTCONFIRM" }
}